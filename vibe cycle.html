<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibe Cycle - Premium Ride-On Toys</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            scroll-behavior: smooth;
        }

        :root {
            --primary: #3498db;
            --primary-dark: #2980b9;
            --primary-light: #5DADE2;
            --secondary: #e74c3c;
            --secondary-dark: #c0392b;
            --accent: #f39c12;
            --accent-light: #F8C471;
            --light: #f8f9fa;
            --dark: #2c3e50;
            --text: #333333;
            --text-light: #666666;
            --gray: #95a5a6;
            --gray-light: #BDC3C7;
            --white: #ffffff;
            --success: #2ecc71;
            --success-light: #58D68D;
            --warning: #f1c40f;
            --danger: #e74c3c;
            --info: #3498db;
            --card-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            --card-shadow-hover: 0 8px 30px rgba(0, 0, 0, 0.12);
            --bottom-nav-height: 60px;
            --safe-area-inset-bottom: env(safe-area-inset-bottom);
            --border-radius-sm: 8px;
            --border-radius-md: 12px;
            --border-radius-lg: 16px;
            --border-radius-xl: 20px;
            --transition-fast: 0.2s ease;
            --transition-normal: 0.3s ease;
            --transition-slow: 0.5s ease;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            background-attachment: fixed;
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
            padding-bottom: calc(var(--bottom-nav-height) + var(--safe-area-inset-bottom));
            font-family: 'Poppins', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Tablet: Adjust bottom padding */
        @media (min-width: 768px) and (max-width: 1023px) {
            body {
                padding-bottom: calc(var(--bottom-nav-height) + 10px);
            }
        }

        /* Desktop: Remove bottom padding */
        @media (min-width: 1024px) {
            body {
                padding-bottom: 0;
            }
        }

        /* App Container */
        .app-container {
            max-width: 100%;
            margin: 0 auto;
            position: relative;
        }

        /* Desktop: Max width container */
        @media (min-width: 1024px) {
            .app-container {
                max-width: 1400px;
            }
        }

        /* Header */
        .app-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: var(--white);
            padding: 12px 15px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 20px rgba(52, 152, 219, 0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            transition: var(--transition-normal);
        }

        .app-header:hover {
            box-shadow: 0 6px 25px rgba(52, 152, 219, 0.4);
        }

        /* Tablet & Desktop: Larger header */
        @media (min-width: 768px) {
            .app-header {
                padding: 15px 30px;
            }
        }

        @media (min-width: 1024px) {
            .app-header {
                padding: 20px 40px;
            }
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            font-size: 20px;
            font-weight: 700;
            color: var(--white);
            text-decoration: none;
            display: flex;
            align-items: center;
        }

        /* Desktop: Larger logo */
        @media (min-width: 768px) {
            .logo {
                font-size: 24px;
            }
        }

        @media (min-width: 1024px) {
            .logo {
                font-size: 28px;
            }
        }

        .logo i {
            margin-right: 8px;
            font-size: 22px;
        }

        .header-actions {
            display: flex;
            gap: 15px;
        }

        /* Desktop: Larger gap */
        @media (min-width: 768px) {
            .header-actions {
                gap: 20px;
            }
        }

        @media (min-width: 1024px) {
            .header-actions {
                gap: 25px;
            }
        }

        .header-icon {
            color: white;
            font-size: 20px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .header-icon:hover {
            transform: scale(1.1);
        }

        /* Desktop: Larger icons */
        @media (min-width: 768px) {
            .header-icon {
                font-size: 22px;
            }
        }

        @media (min-width: 1024px) {
            .header-icon {
                font-size: 24px;
            }
        }

        /* Search Bar */
        .search-container {
            padding: 15px;
            background-color: var(--white);
            border-bottom: 1px solid #eee;
        }

        /* Desktop: Centered search with max-width */
        @media (min-width: 768px) {
            .search-container {
                padding: 20px 30px;
            }
        }

        @media (min-width: 1024px) {
            .search-container {
                padding: 20px 40px;
            }
        }

        .search-bar {
            display: flex;
            background-color: var(--light);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            max-width: 100%;
        }

        /* Desktop: Max width search bar */
        @media (min-width: 1024px) {
            .search-bar {
                max-width: 600px;
                margin: 0 auto;
            }
        }

        .search-bar input {
            flex-grow: 1;
            padding: 14px 15px;
            border: none;
            background: transparent;
            font-size: 16px;
            outline: none;
            width: 100%;
            min-width: 0;
        }

        /* Tablet & Desktop: Better search input */
        @media (min-width: 768px) {
            .search-bar input {
                padding: 16px 18px;
                font-size: 17px;
            }
        }

        .search-bar button {
            background-color: transparent;
            border: none;
            padding: 0 18px;
            cursor: pointer;
            color: var(--gray);
            transition: all 0.3s ease;
            min-width: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .search-bar button:hover {
            color: var(--primary);
            transform: scale(1.1);
        }

        /* Desktop: Larger search button */
        @media (min-width: 768px) {
            .search-bar button {
                padding: 0 22px;
                font-size: 18px;
            }
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: calc(var(--bottom-nav-height) + var(--safe-area-inset-bottom));
            background-color: var(--white);
            display: flex;
            justify-content: space-around;
            align-items: center;
            border-top: 1px solid #e0e0e0;
            padding-bottom: var(--safe-area-inset-bottom);
            z-index: 1000;
        }

        /* Desktop: Hide bottom nav, show as top nav */
        @media (min-width: 1024px) {
            .bottom-nav {
                position: static;
                height: auto;
                border-top: none;
                border-bottom: 1px solid #e0e0e0;
                background: linear-gradient(135deg, rgba(52, 152, 219, 0.05), rgba(41, 128, 185, 0.05));
                padding: 15px 40px;
                justify-content: center;
                gap: 40px;
            }
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex: 1;
            padding: 8px 0;
            color: var(--gray);
            text-decoration: none;
            font-size: 10px;
            transition: color 0.2s;
            position: relative;
        }

        /* Desktop: Horizontal nav items */
        @media (min-width: 1024px) {
            .nav-item {
                flex-direction: row;
                flex: none;
                padding: 10px 20px;
                font-size: 14px;
                font-weight: 500;
                gap: 8px;
                border-radius: 8px;
            }

            .nav-item:hover {
                background-color: rgba(52, 152, 219, 0.1);
            }
        }

        .nav-item.active {
            color: var(--primary);
        }

        .nav-icon {
            font-size: 20px;
            margin-bottom: 4px;
        }

        /* Desktop: Adjusted icon */
        @media (min-width: 1024px) {
            .nav-icon {
                font-size: 18px;
                margin-bottom: 0;
            }
        }

        /* App Screens */
        .app-screen {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .app-screen.active {
            display: block;
        }

        /* Enhanced Animations */
        .product-card,
        .category-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .product-card:hover,
        .category-card:hover {
            transform: translateY(-8px) scale(1.03);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.4);
        }

        .banner-btn {
            transition: transform 0.2s ease;
        }

        .banner-btn:active {
            transform: scale(0.95);
        }

        .nav-item {
            transition: transform 0.2s ease, color 0.2s ease;
        }

        .nav-item:hover {
            transform: translateY(-2px);
            color: var(--primary-dark);
        }

        /* Screen transition animation */
        .app-screen {
            animation: slideIn 0.4s ease-out forwards;
            transform: translateX(100%);
            /* Start off-screen to the right */
            opacity: 0;
        }

        .app-screen.active {
            transform: translateX(0);
            /* Slide in to position */
            opacity: 1;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Home Screen */
        .banner {
            height: 160px;
            background: linear-gradient(135deg, rgba(0, 122, 255, 0.8), rgba(88, 86, 214, 0.8)), url('https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80');
            background-size: cover;
            background-position: center;
            backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            -webkit-backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 20px;
            border-radius: 20px;
            margin: 15px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
        }

        /* Tablet & Desktop: Larger banner */
        @media (min-width: 768px) {
            .banner {
                height: 200px;
                margin: 20px 30px;
                padding: 30px;
            }
        }

        @media (min-width: 1024px) {
            .banner {
                height: 280px;
                margin: 30px 40px;
                padding: 40px 50px;
            }
        }

        .banner h1 {
            font-size: 24px;
            margin-bottom: 8px;
            font-weight: 700;
        }

        /* Desktop: Larger heading */
        @media (min-width: 768px) {
            .banner h1 {
                font-size: 32px;
                margin-bottom: 12px;
            }
        }

        @media (min-width: 1024px) {
            .banner h1 {
                font-size: 42px;
                margin-bottom: 16px;
            }
        }

        .banner p {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 15px;
        }

        /* Desktop: Larger text */
        @media (min-width: 768px) {
            .banner p {
                font-size: 16px;
                margin-bottom: 20px;
            }
        }

        @media (min-width: 1024px) {
            .banner p {
                font-size: 18px;
                margin-bottom: 25px;
            }
        }

        .banner-btn {
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            align-self: flex-start;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        /* Desktop: Larger button */
        @media (min-width: 768px) {
            .banner-btn {
                padding: 12px 28px;
                font-size: 16px;
            }
        }

        @media (min-width: 1024px) {
            .banner-btn {
                padding: 14px 35px;
                font-size: 18px;
            }
        }

        .banner-btn:hover {
            background: rgba(255, 255, 255, 0.4);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        /* Category Section */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
        }

        /* Desktop: Larger padding */
        @media (min-width: 768px) {
            .section-header {
                padding: 20px 30px;
            }
        }

        @media (min-width: 1024px) {
            .section-header {
                padding: 25px 40px;
            }
        }

        .filter-group {
            margin-bottom: 10px;
        }

        .filter-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 5px;
        }

        .filter-btn {
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: var(--dark);
            border: 1px solid rgba(0, 0, 0, 0.1);
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .filter-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
        }

        .image-preview-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 10px;
            border-radius: 12px;
            min-height: 80px;
            align-items: center;
            justify-content: center;
        }

        .image-preview {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            border: 1px solid #ddd;
        }

        .image-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .image-preview .remove-image {
            position: absolute;
            top: 2px;
            right: 2px;
            background-color: rgba(255, 0, 0, 0.7);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            cursor: pointer;
        }

        /* Color Variant Styles */
        .color-variant-item {
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            position: relative;
        }

        .color-variant-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .color-variant-title {
            font-weight: 600;
            font-size: 14px;
            color: var(--dark);
        }

        .remove-variant-btn {
            background: var(--secondary);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 5px 10px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .remove-variant-btn:hover {
            background: #c0392b;
            transform: scale(1.05);
        }

        .color-input-group {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 10px;
        }

        .color-input-group label {
            flex: 0 0 80px;
            font-weight: 500;
            font-size: 13px;
        }

        .color-input-group input[type="text"] {
            flex: 1;
        }

        .color-input-group input[type="color"] {
            width: 50px;
            height: 40px;
            border: 1px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--dark);
        }

        /* Desktop: Larger title */
        @media (min-width: 768px) {
            .section-title {
                font-size: 22px;
            }
        }

        @media (min-width: 1024px) {
            .section-title {
                font-size: 26px;
            }
        }

        .see-all {
            color: var(--primary);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: color 0.2s;
        }

        .see-all:hover {
            color: var(--primary-dark);
        }

        /* Desktop: Larger text */
        @media (min-width: 768px) {
            .see-all {
                font-size: 16px;
            }
        }

        .categories {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            padding: 0 15px 15px;
        }

        /* Tablet: 4 columns */
        @media (min-width: 768px) {
            .categories {
                grid-template-columns: repeat(4, 1fr);
                gap: 15px;
                padding: 0 30px 20px;
            }
        }

        /* Desktop: 6 columns */
        @media (min-width: 1024px) {
            .categories {
                grid-template-columns: repeat(6, 1fr);
                gap: 20px;
                padding: 0 40px 30px;
            }
        }

        .category-card {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 16px;
            padding: 15px 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        /* Desktop: Larger cards */
        @media (min-width: 768px) {
            .category-card {
                padding: 20px 15px;
            }
        }

        @media (min-width: 1024px) {
            .category-card {
                padding: 25px 20px;
            }
        }

        .category-icon {
            width: 40px;
            height: 40px;
            background: rgba(0, 122, 255, 0.15);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 122, 255, 0.2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            color: var(--primary);
            font-size: 18px;
        }

        /* Desktop: Larger icons */
        @media (min-width: 768px) {
            .category-icon {
                width: 50px;
                height: 50px;
                font-size: 22px;
            }
        }

        @media (min-width: 1024px) {
            .category-icon {
                width: 60px;
                height: 60px;
                font-size: 26px;
            }
        }

        .category-name {
            font-size: 12px;
            font-weight: 500;
        }

        /* Desktop: Larger text */
        @media (min-width: 768px) {
            .category-name {
                font-size: 14px;
            }
        }

        @media (min-width: 1024px) {
            .category-name {
                font-size: 15px;
            }
        }

        /* Product Grid */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            padding: 0 15px 20px;
        }

        /* Tablet: 3 columns */
        @media (min-width: 768px) {
            .product-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 20px;
                padding: 0 30px 30px;
            }
        }

        /* Desktop: 4 columns */
        @media (min-width: 1024px) {
            .product-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 25px;
                padding: 0 40px 40px;
            }
        }

        /* Extra large screens: 5 columns */
        @media (min-width: 1400px) {
            .product-grid {
                grid-template-columns: repeat(5, 1fr);
            }

            .categories {
                grid-template-columns: repeat(7, 1fr);
            }

            .app-container {
                max-width: 1600px;
            }
        }

        /* Ultra-wide screens */
        @media (min-width: 1920px) {
            .product-grid {
                grid-template-columns: repeat(6, 1fr);
            }

            .categories {
                grid-template-columns: repeat(8, 1fr);
            }
        }

        .product-card {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .product-card:active {
            transform: scale(0.98);
        }

        /* Desktop: Different hover effect */
        @media (min-width: 1024px) {
            .product-card:active {
                transform: none;
            }
        }

        .product-image {
            height: 140px;
            background: linear-gradient(135deg, var(--light), #dfe6e9);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        /* Desktop: Taller images */
        @media (min-width: 768px) {
            .product-image {
                height: 180px;
            }
        }

        @media (min-width: 1024px) {
            .product-image {
                height: 220px;
            }
        }

        .stock-status {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--secondary);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .stock-status.in-stock {
            background: var(--success);
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-info {
            padding: 12px;
        }

        /* Desktop: Larger padding */
        @media (min-width: 768px) {
            .product-info {
                padding: 15px;
            }
        }

        @media (min-width: 1024px) {
            .product-info {
                padding: 18px;
            }
        }

        .product-title {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 6px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        /* Desktop: Larger text */
        @media (min-width: 768px) {
            .product-title {
                font-size: 15px;
            }
        }

        @media (min-width: 1024px) {
            .product-title {
                font-size: 16px;
            }
        }

        .product-rating {
            display: flex;
            align-items: center;
            margin-bottom: 6px;
        }

        .product-rating .stars {
            color: var(--accent);
            font-size: 12px;
            margin-right: 5px;
        }

        .product-rating .count {
            font-size: 11px;
            color: var(--gray);
        }

        .product-price {
            font-size: 16px;
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 8px;
        }

        /* Desktop: Larger price */
        @media (min-width: 768px) {
            .product-price {
                font-size: 18px;
            }
        }

        @media (min-width: 1024px) {
            .product-price {
                font-size: 20px;
            }
        }

        .add-to-cart {
            background: var(--primary);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            width: 100%;
            padding: 8px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
            transition: all 0.3s ease;
        }

        /* Desktop: Larger button */
        @media (min-width: 768px) {
            .add-to-cart {
                padding: 10px;
                font-size: 15px;
            }
        }

        @media (min-width: 1024px) {
            .add-to-cart {
                padding: 12px;
                font-size: 16px;
            }
        }

        .add-to-cart:hover {
            background: var(--primary-dark);
            box-shadow: 0 6px 20px rgba(0, 122, 255, 0.4);
            transform: translateY(-2px);
        }

        /* Product Details Screen */
        .product-details {
            background: transparent;
            min-height: 100vh;
        }

        .details-header {
            position: sticky;
            top: 0;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            -webkit-backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 10;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        }

        .back-button {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: var(--dark);
        }

        .details-image-container {
            position: relative;
            height: 300px;
            overflow: hidden;
            background: linear-gradient(135deg, var(--light), #dfe6e9);
        }

        /* Tablet: Taller image container */
        @media (min-width: 768px) {
            .details-image-container {
                height: 380px;
            }
        }

        /* Desktop: Even taller for better viewing */
        @media (min-width: 1024px) {
            .details-image-container {
                height: 450px;
                max-width: 800px;
                margin: 0 auto;
                border-radius: 16px;
                margin-top: 10px;
            }
        }

        .details-main-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .image-thumbnails {
            display: flex;
            gap: 10px;
            padding: 10px 15px;
            overflow-x: auto;
            background-color: var(--light);
            scrollbar-width: thin;
            scrollbar-color: var(--primary) var(--light);
        }

        .image-thumbnails::-webkit-scrollbar {
            height: 6px;
        }

        .image-thumbnails::-webkit-scrollbar-track {
            background: var(--light);
        }

        .image-thumbnails::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 3px;
        }

        /* Tablet & Desktop: Better spacing */
        @media (min-width: 768px) {
            .image-thumbnails {
                gap: 12px;
                padding: 15px 30px;
                justify-content: center;
            }
        }

        @media (min-width: 1024px) {
            .image-thumbnails {
                gap: 15px;
                padding: 15px 40px;
                max-width: 800px;
                margin: 0 auto;
            }
        }

        .thumbnail {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .thumbnail:hover {
            transform: scale(1.05);
            border-color: var(--gray);
        }

        /* Tablet & Desktop: Larger thumbnails */
        @media (min-width: 768px) {
            .thumbnail {
                width: 75px;
                height: 75px;
            }
        }

        @media (min-width: 1024px) {
            .thumbnail {
                width: 90px;
                height: 90px;
            }
        }

        .thumbnail.active {
            border-color: var(--primary);
        }

        .thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .details-content {
            padding: 20px 15px;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px 20px 0 0;
            margin-top: -20px;
            position: relative;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.05);
        }

        /* Desktop: Centered content with max-width */
        @media (min-width: 1024px) {
            .details-content {
                max-width: 800px;
                margin-left: auto;
                margin-right: auto;
                padding: 30px 40px;
            }
        }

        .details-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 8px;
            line-height: 1.3;
        }

        /* Tablet: Larger title */
        @media (min-width: 768px) {
            .details-title {
                font-size: 24px;
                margin-bottom: 10px;
            }
        }

        /* Desktop: Even larger */
        @media (min-width: 1024px) {
            .details-title {
                font-size: 28px;
                margin-bottom: 12px;
            }
        }

        .details-brand {
            color: var(--gray);
            margin-bottom: 12px;
            font-size: 14px;
        }

        /* Tablet & Desktop: Larger brand text */
        @media (min-width: 768px) {
            .details-brand {
                font-size: 16px;
                margin-bottom: 14px;
            }
        }

        @media (min-width: 1024px) {
            .details-brand {
                font-size: 17px;
            }
        }

        .details-rating {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            gap: 8px;
        }

        /* Desktop: More spacing */
        @media (min-width: 768px) {
            .details-rating {
                margin-bottom: 18px;
                gap: 10px;
            }
        }

        .details-rating .stars {
            color: var(--accent);
            font-size: 14px;
        }

        /* Desktop: Larger stars */
        @media (min-width: 768px) {
            .details-rating .stars {
                font-size: 16px;
            }
        }

        @media (min-width: 1024px) {
            .details-rating .stars {
                font-size: 18px;
            }
        }

        .details-price {
            font-size: 24px;
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 15px;
        }

        /* Tablet: Larger price */
        @media (min-width: 768px) {
            .details-price {
                font-size: 28px;
                margin-bottom: 18px;
            }
        }

        /* Desktop: Even larger */
        @media (min-width: 1024px) {
            .details-price {
                font-size: 32px;
                margin-bottom: 20px;
            }
        }

        .details-color-options h3 {
            font-size: 16px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        /* Desktop: Larger heading */
        @media (min-width: 768px) {
            .details-color-options h3 {
                font-size: 17px;
                margin-bottom: 12px;
            }
        }

        @media (min-width: 1024px) {
            .details-color-options h3 {
                font-size: 18px;
            }
        }

        .color-options-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        /* Desktop: Better spacing */
        @media (min-width: 768px) {
            .color-options-container {
                gap: 12px;
                margin-bottom: 22px;
            }
        }

        @media (min-width: 1024px) {
            .color-options-container {
                gap: 15px;
                margin-bottom: 25px;
            }
        }

        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid var(--light);
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        /* Tablet & Desktop: Larger color options */
        @media (min-width: 768px) {
            .color-option {
                width: 36px;
                height: 36px;
                border-width: 3px;
            }
        }

        @media (min-width: 1024px) {
            .color-option {
                width: 40px;
                height: 40px;
            }
        }

        .color-option:hover {
            transform: scale(1.15);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .color-option.active {
            border-color: var(--primary);
            box-shadow: 0 4px 16px rgba(52, 152, 219, 0.4);
            transform: scale(1.1);
        }

        .details-description {
            margin-bottom: 20px;
            line-height: 1.7;
            font-size: 14px;
            color: var(--text);
        }

        /* Tablet & Desktop: Larger description */
        @media (min-width: 768px) {
            .details-description {
                font-size: 15px;
                line-height: 1.8;
                margin-bottom: 22px;
            }
        }

        @media (min-width: 1024px) {
            .details-description {
                font-size: 16px;
                margin-bottom: 25px;
            }
        }

        .details-features {
            margin-bottom: 20px;
        }

        /* Desktop: Better spacing */
        @media (min-width: 768px) {
            .details-features {
                margin-bottom: 22px;
            }
        }

        @media (min-width: 1024px) {
            .details-features {
                margin-bottom: 25px;
            }
        }

        .details-features h3 {
            font-size: 16px;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--dark);
        }

        /* Desktop: Larger heading */
        @media (min-width: 768px) {
            .details-features h3 {
                font-size: 17px;
                margin-bottom: 12px;
            }
        }

        @media (min-width: 1024px) {
            .details-features h3 {
                font-size: 18px;
                margin-bottom: 14px;
            }
        }

        .details-features ul {
            padding-left: 20px;
        }

        /* Desktop: Better spacing */
        @media (min-width: 768px) {
            .details-features ul {
                padding-left: 25px;
            }
        }

        @media (min-width: 1024px) {
            .details-features ul {
                padding-left: 30px;
            }
        }

        .details-features li {
            margin-bottom: 8px;
            font-size: 14px;
            line-height: 1.6;
        }

        /* Desktop: Larger list items */
        @media (min-width: 768px) {
            .details-features li {
                font-size: 15px;
                margin-bottom: 10px;
            }
        }

        @media (min-width: 1024px) {
            .details-features li {
                font-size: 16px;
                margin-bottom: 12px;
            }
        }

        .delivery-info {
            background: rgba(0, 122, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 122, 255, 0.2);
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 20px;
            font-size: 14px;
            line-height: 1.6;
        }

        /* Desktop: Better padding and font */
        @media (min-width: 768px) {
            .delivery-info {
                padding: 18px;
                font-size: 15px;
                margin-bottom: 22px;
            }
        }

        @media (min-width: 1024px) {
            .delivery-info {
                padding: 20px;
                font-size: 16px;
                margin-bottom: 25px;
            }
        }

        .delivery-info i {
            color: var(--primary);
            margin-right: 8px;
        }

        .action-buttons {
            position: fixed;
            bottom: calc(var(--bottom-nav-height) + var(--safe-area-inset-bottom));
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            -webkit-backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding: 15px;
            display: flex;
            gap: 10px;
            box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.05);
        }

        /* Desktop: Centered action buttons */
        @media (min-width: 1024px) {
            .action-buttons {
                position: relative;
                bottom: auto;
                max-width: 800px;
                margin: 20px auto;
                border-radius: 12px;
                border: 1px solid rgba(255, 255, 255, 0.3);
            }
        }

        .btn {
            padding: 14px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            flex: 1;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        /* Desktop: Larger buttons */
        @media (min-width: 768px) {
            .btn {
                padding: 16px;
                font-size: 15px;
            }
        }

        @media (min-width: 1024px) {
            .btn {
                padding: 18px;
                font-size: 16px;
            }
        }

        .btn-primary {
            background: var(--primary);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            box-shadow: 0 6px 20px rgba(0, 122, 255, 0.4);
            transform: translateY(-2px);
        }

        .btn-whatsapp {
            background: #25D366;
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 12px rgba(37, 211, 102, 0.3);
            transition: all 0.3s ease;
        }

        .btn-whatsapp:hover {
            background: #1ebe57;
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.4);
            transform: translateY(-2px);
        }

        /* Cart Screen */
        .cart-items {
            padding: 15px;
        }

        /* Desktop: Centered with max-width */
        @media (min-width: 768px) {
            .cart-items {
                padding: 20px 30px;
            }
        }

        @media (min-width: 1024px) {
            .cart-items {
                max-width: 900px;
                margin: 0 auto;
                padding: 30px 40px;
            }
        }

        .cart-item {
            display: flex;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 16px;
            padding: 15px;
            margin-bottom: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        /* Desktop: Larger padding */
        @media (min-width: 768px) {
            .cart-item {
                padding: 20px;
                margin-bottom: 15px;
            }
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            background: var(--light);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            overflow: hidden;
        }

        /* Desktop: Larger images */
        @media (min-width: 768px) {
            .cart-item-image {
                width: 100px;
                height: 100px;
                margin-right: 20px;
            }
        }

        @media (min-width: 1024px) {
            .cart-item-image {
                width: 120px;
                height: 120px;
            }
        }

        .cart-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-title {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 6px;
            line-height: 1.4;
        }

        /* Tablet & Desktop: Larger title */
        @media (min-width: 768px) {
            .cart-item-title {
                font-size: 15px;
                margin-bottom: 8px;
            }
        }

        @media (min-width: 1024px) {
            .cart-item-title {
                font-size: 16px;
            }
        }

        .cart-item-price {
            font-size: 16px;
            font-weight: 700;
            color: var(--secondary);
            margin-bottom: 8px;
        }

        /* Desktop: Larger price */
        @media (min-width: 768px) {
            .cart-item-price {
                font-size: 17px;
                margin-bottom: 10px;
            }
        }

        @media (min-width: 1024px) {
            .cart-item-price {
                font-size: 18px;
            }
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Desktop: Better spacing */
        @media (min-width: 768px) {
            .quantity-controls {
                gap: 12px;
            }
        }

        @media (min-width: 1024px) {
            .quantity-controls {
                gap: 15px;
            }
        }

        .quantity-btn {
            width: 28px;
            height: 28px;
            background: rgba(0, 122, 255, 0.15);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 122, 255, 0.2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--primary);
            font-weight: 600;
            transition: all 0.3s ease;
        }

        /* Tablet & Desktop: Larger buttons */
        @media (min-width: 768px) {
            .quantity-btn {
                width: 32px;
                height: 32px;
                font-size: 16px;
            }
        }

        @media (min-width: 1024px) {
            .quantity-btn {
                width: 36px;
                height: 36px;
                font-size: 18px;
            }
        }

        .quantity-btn:hover {
            background: rgba(0, 122, 255, 0.25);
            transform: scale(1.1);
        }

        .quantity {
            font-weight: 600;
            font-size: 14px;
            min-width: 24px;
            text-align: center;
        }

        /* Desktop: Larger quantity */
        @media (min-width: 768px) {
            .quantity {
                font-size: 15px;
                min-width: 28px;
            }
        }

        @media (min-width: 1024px) {
            .quantity {
                font-size: 16px;
                min-width: 32px;
            }
        }

        .cart-total {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 20px 15px;
            margin: 15px;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        /* Desktop: Centered with max-width */
        @media (min-width: 768px) {
            .cart-total {
                padding: 25px 30px;
                margin: 20px 30px;
            }
        }

        @media (min-width: 1024px) {
            .cart-total {
                max-width: 900px;
                margin: 30px auto;
                padding: 30px 40px;
            }
        }

        .total-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 14px;
        }

        /* Desktop: Larger text */
        @media (min-width: 768px) {
            .total-row {
                font-size: 15px;
                margin-bottom: 12px;
            }
        }

        @media (min-width: 1024px) {
            .total-row {
                font-size: 16px;
            }
        }

        .total-final {
            font-weight: 700;
            font-size: 18px;
            border-top: 1px solid #eee;
            padding-top: 10px;
            margin-top: 10px;
        }

        /* Desktop: Larger final total */
        @media (min-width: 768px) {
            .total-final {
                font-size: 20px;
                padding-top: 12px;
                margin-top: 12px;
            }
        }

        @media (min-width: 1024px) {
            .total-final {
                font-size: 22px;
                padding-top: 15px;
                margin-top: 15px;
            }
        }

        .checkout-btn {
            background: var(--primary);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            width: 100%;
            padding: 16px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
            transition: all 0.3s ease;
        }

        /* Tablet & Desktop: Larger button */
        @media (min-width: 768px) {
            .checkout-btn {
                padding: 18px;
                font-size: 17px;
                margin-top: 18px;
            }
        }

        @media (min-width: 1024px) {
            .checkout-btn {
                padding: 20px;
                font-size: 18px;
                margin-top: 20px;
            }
        }

        .checkout-btn:hover {
            background: var(--primary-dark);
            box-shadow: 0 6px 20px rgba(0, 122, 255, 0.4);
            transform: translateY(-2px);
        }

        /* Profile Screen */
        .profile-header {
            background: linear-gradient(135deg, rgba(0, 122, 255, 0.9), rgba(88, 86, 214, 0.9));
            backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            -webkit-backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            margin: 15px;
            color: white;
            padding: 30px 20px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
        }

        /* Desktop: Larger header */
        @media (min-width: 768px) {
            .profile-header {
                margin: 20px 30px;
                padding: 40px 30px;
            }
        }

        @media (min-width: 1024px) {
            .profile-header {
                max-width: 900px;
                margin: 30px auto;
                padding: 50px 40px;
            }
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 30px;
        }

        /* Tablet & Desktop: Larger avatar */
        @media (min-width: 768px) {
            .profile-avatar {
                width: 100px;
                height: 100px;
                font-size: 36px;
                margin-bottom: 18px;
            }
        }

        @media (min-width: 1024px) {
            .profile-avatar {
                width: 120px;
                height: 120px;
                font-size: 42px;
                margin-bottom: 20px;
            }
        }

        .profile-name {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        /* Desktop: Larger name */
        @media (min-width: 768px) {
            .profile-name {
                font-size: 24px;
                margin-bottom: 6px;
            }
        }

        @media (min-width: 1024px) {
            .profile-name {
                font-size: 26px;
                margin-bottom: 8px;
            }
        }

        .profile-email {
            opacity: 0.8;
            font-size: 14px;
        }

        /* Desktop: Larger email */
        @media (min-width: 768px) {
            .profile-email {
                font-size: 16px;
            }
        }

        @media (min-width: 1024px) {
            .profile-email {
                font-size: 17px;
            }
        }

        .profile-menu {
            padding: 20px 15px;
        }

        /* Desktop: Centered with max-width */
        @media (min-width: 768px) {
            .profile-menu {
                padding: 25px 30px;
            }
        }

        @media (min-width: 1024px) {
            .profile-menu {
                max-width: 900px;
                margin: 0 auto;
                padding: 30px 40px;
            }
        }

        .menu-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        /* Desktop: Hover effect */
        @media (min-width: 1024px) {
            .menu-item {
                padding: 18px 20px;
                border-radius: 12px;
                margin-bottom: 8px;
            }

            .menu-item:hover {
                background-color: rgba(52, 152, 219, 0.05);
            }
        }

        .menu-icon {
            width: 40px;
            height: 40px;
            background: rgba(0, 122, 255, 0.15);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 122, 255, 0.2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: var(--primary);
            font-size: 18px;
        }

        /* Tablet & Desktop: Larger icons */
        @media (min-width: 768px) {
            .menu-icon {
                width: 46px;
                height: 46px;
                font-size: 20px;
                margin-right: 18px;
            }
        }

        @media (min-width: 1024px) {
            .menu-icon {
                width: 50px;
                height: 50px;
                font-size: 22px;
                margin-right: 20px;
            }
        }

        .menu-text {
            flex: 1;
            font-size: 16px;
            font-weight: 500;
            color: var(--text);
        }

        /* Desktop: Larger text */
        @media (min-width: 768px) {
            .menu-text {
                font-size: 17px;
            }
        }

        @media (min-width: 1024px) {
            .menu-text {
                font-size: 18px;
            }
        }

        .menu-arrow {
            color: var(--gray);
            font-size: 14px;
        }

        /* Desktop: Larger arrow */
        @media (min-width: 768px) {
            .menu-arrow {
                font-size: 15px;
            }
        }

        @media (min-width: 1024px) {
            .menu-arrow {
                font-size: 16px;
            }
        }

        /* Checkout Screen */
        .checkout-screen {
            background: transparent;
            min-height: 100vh;
        }

        /* Desktop: Centered content */
        @media (min-width: 1024px) {
            .checkout-screen {
                max-width: 1000px;
                margin: 0 auto;
            }
        }

        .checkout-header {
            position: sticky;
            top: 0;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            -webkit-backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 10;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        }

        .checkout-title {
            font-size: 18px;
            font-weight: 600;
        }

        /* Desktop: Larger title */
        @media (min-width: 768px) {
            .checkout-title {
                font-size: 20px;
            }
        }

        @media (min-width: 1024px) {
            .checkout-title {
                font-size: 22px;
            }
        }

        .checkout-content {
            padding: 20px 15px;
        }

        /* Desktop: Larger padding */
        @media (min-width: 768px) {
            .checkout-content {
                padding: 25px 30px;
            }
        }

        @media (min-width: 1024px) {
            .checkout-content {
                padding: 30px 40px;
            }
        }

        .checkout-section {
            margin-bottom: 25px;
        }

        .section-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--dark);
        }

        .address-card {
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 15px;
            border-radius: 16px;
            margin-bottom: 15px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }

        .address-card:hover {
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
            transform: translateY(-2px);
        }

        /* Desktop: Larger padding */
        @media (min-width: 768px) {
            .address-card {
                padding: 18px;
                margin-bottom: 18px;
            }
        }

        @media (min-width: 1024px) {
            .address-card {
                padding: 20px;
                margin-bottom: 20px;
            }
        }

        .address-name {
            font-weight: 600;
            margin-bottom: 5px;
            font-size: 15px;
        }

        /* Desktop: Larger name */
        @media (min-width: 768px) {
            .address-name {
                font-size: 16px;
                margin-bottom: 6px;
            }
        }

        @media (min-width: 1024px) {
            .address-name {
                font-size: 17px;
                margin-bottom: 8px;
            }
        }

        .address-details {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 10px;
            line-height: 1.6;
        }

        /* Desktop: Larger details */
        @media (min-width: 768px) {
            .address-details {
                font-size: 15px;
                margin-bottom: 12px;
            }
        }

        @media (min-width: 1024px) {
            .address-details {
                font-size: 16px;
                margin-bottom: 14px;
            }
        }

        .address-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        /* Desktop: Better spacing */
        @media (min-width: 768px) {
            .address-actions {
                gap: 12px;
            }
        }

        @media (min-width: 1024px) {
            .address-actions {
                gap: 15px;
            }
        }

        .address-btn {
            background: none;
            border: none;
            color: var(--primary);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            padding: 6px 12px;
            border-radius: 6px;
        }

        .address-btn:hover {
            background: rgba(52, 152, 219, 0.1);
            transform: translateY(-1px);
        }

        /* Desktop: Larger buttons */
        @media (min-width: 768px) {
            .address-btn {
                font-size: 15px;
                padding: 8px 14px;
            }
        }

        @media (min-width: 1024px) {
            .address-btn {
                font-size: 16px;
                padding: 10px 16px;
            }
        }

        .order-summary {
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 20px;
            border-radius: 16px;
            margin-top: 20px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);
        }

        /* Desktop: Better padding */
        @media (min-width: 768px) {
            .order-summary {
                padding: 22px;
                margin-top: 22px;
            }
        }

        @media (min-width: 1024px) {
            .order-summary {
                padding: 25px;
                margin-top: 25px;
            }
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 14px;
        }

        /* Desktop: Larger text */
        @media (min-width: 768px) {
            .summary-row {
                font-size: 15px;
                margin-bottom: 12px;
            }
        }

        @media (min-width: 1024px) {
            .summary-row {
                font-size: 16px;
                margin-bottom: 14px;
            }
        }

        .summary-total {
            font-weight: 700;
            font-size: 18px;
            border-top: 1px solid #ddd;
            padding-top: 10px;
            margin-top: 10px;
        }

        /* Desktop: Larger total */
        @media (min-width: 768px) {
            .summary-total {
                font-size: 20px;
                padding-top: 12px;
                margin-top: 12px;
            }
        }

        @media (min-width: 1024px) {
            .summary-total {
                font-size: 22px;
                padding-top: 15px;
                margin-top: 15px;
            }
        }

        .place-order-btn {
            background: var(--primary);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            width: 100%;
            padding: 16px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
            transition: all 0.3s ease;
        }

        /* Tablet & Desktop: Larger button */
        @media (min-width: 768px) {
            .place-order-btn {
                padding: 18px;
                font-size: 17px;
                margin-top: 22px;
            }
        }

        @media (min-width: 1024px) {
            .place-order-btn {
                padding: 20px;
                font-size: 18px;
                margin-top: 25px;
            }
        }

        .place-order-btn:hover {
            background: var(--primary-dark);
            box-shadow: 0 6px 20px rgba(0, 122, 255, 0.4);
            transform: translateY(-2px);
        }

        /* Address Selection Screen */
        .address-screen {
            background: transparent;
            min-height: 100vh;
        }

        .address-header {
            position: sticky;
            top: 0;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            -webkit-backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 10;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        }

        .address-title {
            font-size: 18px;
            font-weight: 600;
        }

        /* Desktop: Larger title */
        @media (min-width: 768px) {
            .address-title {
                font-size: 20px;
            }
        }

        @media (min-width: 1024px) {
            .address-title {
                font-size: 22px;
            }
        }

        .address-content {
            padding: 20px 15px;
        }

        /* Desktop: Better padding */
        @media (min-width: 768px) {
            .address-content {
                padding: 25px 30px;
            }
        }

        @media (min-width: 1024px) {
            .address-content {
                padding: 30px 40px;
                max-width: 800px;
                margin: 0 auto;
            }
        }

        .address-form {
            margin-bottom: 20px;
        }

        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            flex-direction: column;
        }

        .form-row .form-group {
            flex: 1;
            margin-bottom: 0;
        }

        /* Desktop: Horizontal layout */
        @media (min-width: 768px) {
            .form-row {
                flex-direction: row;
            }
        }

        .required::after {
            content: " *";
            color: var(--secondary);
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
        }

        .checkbox-group input {
            width: auto;
        }

        /* Admin Panel */
        .admin-panel {
            background: transparent;
            min-height: 100vh;
            padding: 20px;
        }

        /* Desktop: Larger padding */
        @media (min-width: 768px) {
            .admin-panel {
                padding: 25px 30px;
            }
        }

        @media (min-width: 1024px) {
            .admin-panel {
                padding: 30px 40px;
            }
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .admin-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
        }

        /* Desktop: Larger title */
        @media (min-width: 768px) {
            .admin-title {
                font-size: 28px;
            }
        }

        @media (min-width: 1024px) {
            .admin-title {
                font-size: 32px;
            }
        }

        .admin-nav {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
            overflow-x: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--primary) var(--light);
        }

        .admin-nav::-webkit-scrollbar {
            height: 4px;
        }

        .admin-nav::-webkit-scrollbar-track {
            background: var(--light);
        }

        .admin-nav::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 2px;
        }

        /* Desktop: Better spacing */
        @media (min-width: 768px) {
            .admin-nav {
                gap: 20px;
                margin-bottom: 25px;
                padding-bottom: 12px;
            }
        }

        @media (min-width: 1024px) {
            .admin-nav {
                gap: 25px;
                margin-bottom: 30px;
                padding-bottom: 15px;
            }
        }

        .admin-nav-item {
            padding: 10px 20px;
            background: none;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            font-size: 14px;
            transition: all 0.3s;
            white-space: nowrap;
        }

        /* Desktop: Larger nav items */
        @media (min-width: 768px) {
            .admin-nav-item {
                padding: 12px 24px;
                font-size: 15px;
            }
        }

        @media (min-width: 1024px) {
            .admin-nav-item {
                padding: 14px 28px;
                font-size: 16px;
            }
        }

        .admin-nav-item.active {
            background: var(--primary);
            color: white;
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
        }

        .admin-section {
            display: none;
        }

        .admin-section.active {
            display: block;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        /* Desktop: 4 columns */
        @media (min-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
                gap: 20px;
            }
        }

        @media (min-width: 1024px) {
            .stats-grid {
                gap: 25px;
            }
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 20px;
            border-radius: 16px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        /* Desktop: Better padding */
        @media (min-width: 768px) {
            .stat-card {
                padding: 25px;
            }
        }

        @media (min-width: 1024px) {
            .stat-card {
                padding: 30px;
            }
        }

        .stat-value {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--primary);
        }

        /* Desktop: Larger values */
        @media (min-width: 768px) {
            .stat-value {
                font-size: 32px;
                margin-bottom: 6px;
            }
        }

        @media (min-width: 1024px) {
            .stat-value {
                font-size: 36px;
                margin-bottom: 8px;
            }
        }

        .stat-label {
            color: var(--gray);
            font-size: 14px;
        }

        /* Desktop: Larger label */
        @media (min-width: 768px) {
            .stat-label {
                font-size: 15px;
            }
        }

        @media (min-width: 1024px) {
            .stat-label {
                font-size: 16px;
            }
        }

        .table-container {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            overflow-x: auto;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;
        }

        /* Desktop: Remove min-width */
        @media (min-width: 1024px) {
            .table {
                min-width: auto;
            }
        }

        .table th,
        .table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
            font-size: 13px;
        }

        /* Desktop: Larger padding */
        @media (min-width: 768px) {

            .table th,
            .table td {
                padding: 18px;
                font-size: 14px;
            }
        }

        @media (min-width: 1024px) {

            .table th,
            .table td {
                padding: 20px;
                font-size: 15px;
            }
        }

        .table th {
            background: rgba(0, 122, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            font-weight: 600;
        }

        .status-badge {
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            white-space: nowrap;
        }

        /* Desktop: Larger badges */
        @media (min-width: 768px) {
            .status-badge {
                padding: 6px 12px;
                font-size: 13px;
            }
        }

        @media (min-width: 1024px) {
            .status-badge {
                padding: 7px 14px;
                font-size: 14px;
            }
        }

        .status-pending {
            background-color: #fff3cd;
            color: #856404;
        }

        .status-confirmed {
            background-color: #d1ecf1;
            color: #0c5460;
        }

        .status-shipped {
            background-color: #d4edda;
            color: #155724;
        }

        .status-delivered {
            background-color: #e2e3e5;
            color: #383d41;
        }

        .action-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .action-btn:hover {
            transform: translateY(-2px);
        }

        /* Desktop: Larger action buttons */
        @media (min-width: 768px) {
            .action-btn {
                padding: 8px 14px;
                font-size: 13px;
            }
        }

        @media (min-width: 1024px) {
            .action-btn {
                padding: 10px 16px;
                font-size: 14px;
            }
        }

        .btn-edit {
            background: var(--primary);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 2px 8px rgba(0, 122, 255, 0.3);
        }

        .btn-delete {
            background: var(--secondary);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 2px 8px rgba(255, 59, 48, 0.3);
        }

        .product-form {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 20px;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        /* Desktop: Better padding */
        @media (min-width: 768px) {
            .product-form {
                padding: 25px;
                margin-bottom: 25px;
            }
        }

        @media (min-width: 1024px) {
            .product-form {
                padding: 30px;
                margin-bottom: 30px;
            }
        }

        /* Admin Login Screen */
        .admin-login-screen {
            background: transparent;
            min-height: 100vh;
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .admin-login-container {
            max-width: 400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            -webkit-backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
        }

        /* Desktop: Larger container */
        @media (min-width: 768px) {
            .admin-login-container {
                max-width: 480px;
                padding: 40px;
            }
        }

        .admin-login-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .admin-login-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 10px;
        }

        /* Desktop: Larger title */
        @media (min-width: 768px) {
            .admin-login-title {
                font-size: 28px;
                margin-bottom: 12px;
            }
        }

        @media (min-width: 1024px) {
            .admin-login-title {
                font-size: 30px;
            }
        }

        .admin-login-subtitle {
            color: var(--gray);
            font-size: 14px;
        }

        /* Desktop: Larger subtitle */
        @media (min-width: 768px) {
            .admin-login-subtitle {
                font-size: 15px;
            }
        }

        @media (min-width: 1024px) {
            .admin-login-subtitle {
                font-size: 16px;
            }
        }

        .admin-login-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-label {
            font-size: 14px;
            font-weight: 500;
            color: var(--dark);
        }

        .form-input {
            padding: 15px;
            border: 1px solid rgba(0, 0, 0, 0.1);
            background: rgba(255, 255, 255, 0.5);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            width: 100%;
        }

        /* Tablet: Better input sizing */
        @media (min-width: 768px) {
            .form-input {
                padding: 16px;
                font-size: 16px;
            }
        }

        /* Desktop: Larger inputs */
        @media (min-width: 1024px) {
            .form-input {
                padding: 18px;
                font-size: 17px;
            }
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(255, 255, 255, 0.7);
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.2);
        }

        .login-error {
            background-color: #f8d7da;
            color: #721c24;
            padding: 12px;
            border-radius: 8px;
            font-size: 14px;
            text-align: center;
            display: none;
        }

        .login-error.show {
            display: block;
        }

        /* User Authentication Styles */
        .auth-screen {
            background: transparent;
            min-height: 100vh;
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* Desktop: Better centering */
        @media (min-width: 768px) {
            .auth-screen {
                padding: 60px 30px;
            }
        }

        .auth-container {
            max-width: 400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            -webkit-backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
        }

        /* Desktop: Larger container */
        @media (min-width: 768px) {
            .auth-container {
                max-width: 480px;
                padding: 40px;
            }
        }

        .auth-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .auth-logo {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        /* Desktop: Larger logo */
        @media (min-width: 768px) {
            .auth-logo {
                font-size: 28px;
                margin-bottom: 18px;
                gap: 12px;
            }
        }

        @media (min-width: 1024px) {
            .auth-logo {
                font-size: 32px;
                margin-bottom: 20px;
            }
        }

        .auth-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 10px;
        }

        /* Desktop: Larger title */
        @media (min-width: 768px) {
            .auth-title {
                font-size: 28px;
                margin-bottom: 12px;
            }
        }

        @media (min-width: 1024px) {
            .auth-title {
                font-size: 30px;
            }
        }

        .auth-subtitle {
            color: var(--gray);
            font-size: 14px;
        }

        /* Desktop: Larger subtitle */
        @media (min-width: 768px) {
            .auth-subtitle {
                font-size: 15px;
            }
        }

        @media (min-width: 1024px) {
            .auth-subtitle {
                font-size: 16px;
            }
        }

        .auth-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .auth-footer {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
        }

        .auth-link {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
        }

        .auth-switch {
            margin-top: 15px;
            text-align: center;
            font-size: 14px;
        }

        /* Order Details Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: 20px;
        }

        /* Desktop: Darker overlay */
        @media (min-width: 1024px) {
            .modal-overlay {
                background: rgba(0, 0, 0, 0.5);
            }
        }

        .modal {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            -webkit-backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        /* Desktop: Larger modal */
        @media (min-width: 768px) {
            .modal {
                max-width: 700px;
            }
        }

        @media (min-width: 1024px) {
            .modal {
                max-width: 800px;
            }
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        /* Desktop: Larger padding */
        @media (min-width: 768px) {
            .modal-header {
                padding: 25px 30px;
            }
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--dark);
        }

        /* Desktop: Larger modal title */
        @media (min-width: 768px) {
            .modal-title {
                font-size: 20px;
            }
        }

        @media (min-width: 1024px) {
            .modal-title {
                font-size: 22px;
            }
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: var(--gray);
            transition: all 0.3s ease;
            padding: 8px;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            background: rgba(0, 0, 0, 0.05);
            color: var(--dark);
        }

        /* Desktop: Larger close button */
        @media (min-width: 768px) {
            .modal-close {
                font-size: 22px;
                width: 40px;
                height: 40px;
            }
        }

        @media (min-width: 1024px) {
            .modal-close {
                font-size: 24px;
                width: 44px;
                height: 44px;
            }
        }

        .modal-body {
            padding: 20px;
        }

        /* Desktop: Larger padding */
        @media (min-width: 768px) {
            .modal-body {
                padding: 25px 30px;
            }
        }

        /* Support Page Styles */
        .support-contact {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .contact-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #e0e0e0;
        }

        /* Desktop: Better spacing */
        @media (min-width: 768px) {
            .contact-item {
                padding: 18px 0;
            }
        }

        @media (min-width: 1024px) {
            .contact-item {
                padding: 20px 0;
            }
        }

        .contact-item:last-child {
            border-bottom: none;
        }

        .contact-icon {
            width: 40px;
            height: 40px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            box-shadow: 0 4px 12px rgba(0, 122, 255, 0.3);
            font-size: 18px;
        }

        /* Desktop: Larger icons */
        @media (min-width: 768px) {
            .contact-icon {
                width: 46px;
                height: 46px;
                font-size: 20px;
                margin-right: 18px;
            }
        }

        @media (min-width: 1024px) {
            .contact-icon {
                width: 50px;
                height: 50px;
                font-size: 22px;
                margin-right: 20px;
            }
        }

        .contact-details {
            flex: 1;
        }

        .contact-label {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 5px;
        }

        /* Desktop: Larger label */
        @media (min-width: 768px) {
            .contact-label {
                font-size: 15px;
            }
        }

        @media (min-width: 1024px) {
            .contact-label {
                font-size: 16px;
            }
        }

        .contact-value {
            font-size: 16px;
            font-weight: 500;
        }

        /* Desktop: Larger value */
        @media (min-width: 768px) {
            .contact-value {
                font-size: 17px;
            }
        }

        @media (min-width: 1024px) {
            .contact-value {
                font-size: 18px;
            }
        }

        /* Edit Profile Styles */
        .profile-form {
            padding: 20px 15px;
        }

        /* Order History Styles */
        .order-history {
            padding: 15px;
        }

        /* Desktop: Centered with max-width */
        @media (min-width: 768px) {
            .order-history {
                padding: 20px 30px;
            }
        }

        @media (min-width: 1024px) {
            .order-history {
                max-width: 900px;
                margin: 0 auto;
                padding: 30px 40px;
            }
        }

        .order-card {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 16px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .order-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
        }

        /* Desktop: Larger padding */
        @media (min-width: 768px) {
            .order-card {
                padding: 20px;
                margin-bottom: 20px;
            }
        }

        @media (min-width: 1024px) {
            .order-card {
                padding: 25px;
                margin-bottom: 25px;
            }
        }

        /* Desktop: Larger padding */
        @media (min-width: 768px) {
            .order-card {
                padding: 20px;
                margin-bottom: 20px;
            }
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #f0f0f0;
        }

        .order-id {
            font-weight: 600;
            color: var(--dark);
            font-size: 15px;
        }

        /* Desktop: Larger ID */
        @media (min-width: 768px) {
            .order-id {
                font-size: 16px;
            }
        }

        @media (min-width: 1024px) {
            .order-id {
                font-size: 17px;
            }
        }

        .order-date {
            color: var(--gray);
            font-size: 14px;
        }

        /* Desktop: Larger date */
        @media (min-width: 768px) {
            .order-date {
                font-size: 15px;
            }
        }

        @media (min-width: 1024px) {
            .order-date {
                font-size: 16px;
            }
        }

        .order-status {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .order-items {
            margin-bottom: 10px;
        }

        .order-item {
            display: flex;
            margin-bottom: 10px;
        }

        .order-item-image {
            width: 60px;
            height: 60px;
            background: var(--light);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            overflow: hidden;
            flex-shrink: 0;
        }

        /* Desktop: Larger images */
        @media (min-width: 768px) {
            .order-item-image {
                width: 70px;
                height: 70px;
                margin-right: 12px;
            }
        }

        @media (min-width: 1024px) {
            .order-item-image {
                width: 80px;
                height: 80px;
                margin-right: 15px;
            }
        }

        .order-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .order-item-details {
            flex: 1;
        }

        .order-item-name {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 5px;
            line-height: 1.4;
        }

        /* Desktop: Larger name */
        @media (min-width: 768px) {
            .order-item-name {
                font-size: 15px;
            }
        }

        @media (min-width: 1024px) {
            .order-item-name {
                font-size: 16px;
            }
        }

        .order-item-price {
            font-size: 14px;
            color: var(--secondary);
            font-weight: 600;
        }

        /* Desktop: Larger price */
        @media (min-width: 768px) {
            .order-item-price {
                font-size: 15px;
            }
        }

        @media (min-width: 1024px) {
            .order-item-price {
                font-size: 16px;
            }
        }

        .order-total {
            text-align: right;
            font-weight: 700;
            font-size: 16px;
            border-top: 1px solid #f0f0f0;
            padding-top: 10px;
        }

        /* Desktop: Larger total */
        @media (min-width: 768px) {
            .order-total {
                font-size: 17px;
                padding-top: 12px;
            }
        }

        @media (min-width: 1024px) {
            .order-total {
                font-size: 18px;
                padding-top: 14px;
            }
        }

        /* Edit Product Modal */
        .edit-product-form {
            display: grid;
            gap: 15px;
        }

        .form-row {
            display: flex;
            gap: 15px;
        }

        .form-group {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-label {
            font-size: 14px;
            font-weight: 500;
            color: var(--dark);
            margin-bottom: 2px;
        }

        /* Desktop: Larger labels */
        @media (min-width: 768px) {
            .form-label {
                font-size: 15px;
            }
        }

        @media (min-width: 1024px) {
            .form-label {
                font-size: 16px;
            }
        }

        .form-input,
        .form-textarea,
        .form-select {
            padding: 12px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.2s;
            width: 100%;
        }

        /* Desktop: Larger inputs */
        @media (min-width: 768px) {

            .form-input,
            .form-textarea,
            .form-select {
                padding: 14px;
            }
        }

        .form-textarea {
            resize: vertical;
            min-height: 80px;
        }

        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--primary);
        }

        /* Additional utility classes */
        .d-flex {
            display: flex;
        }

        .justify-between {
            justify-content: space-between;
        }

        .align-center {
            align-items: center;
        }

        .w-100 {
            width: 100%;
        }

        .mt-20 {
            margin-top: 20px;
        }

        .mb-20 {
            margin-bottom: 20px;
        }

        /* Utility Classes */
        .hidden {
            display: none !important;
        }

        .mt-10 {
            margin-top: 10px;
        }

        .mb-10 {
            margin-bottom: 10px;
        }

        .p-15 {
            padding: 15px;
        }

        .text-center {
            text-align: center;
        }

        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        /* Desktop: Larger padding */
        @media (min-width: 768px) {
            .modal-footer {
                padding: 20px 30px;
                gap: 15px;
            }
        }

        @media print {
            body>*:not(#order-details-modal.printable) {
                display: none !important;
            }

            #order-details-modal.printable {
                display: block !important;
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                background: white !important;
                z-index: 10000;
            }

            #order-details-modal.printable .modal {
                box-shadow: none !important;
                max-width: 100% !important;
                max-height: none !important;
            }

            #order-details-modal.printable .modal-header,
            #order-details-modal.printable .modal-footer {
                display: none !important;
            }
        }

        /* Dark Mode Styles */
        body.dark-mode {
            --light: rgba(58, 58, 58, 0.6);
            --dark: #f0f0f0;
            --text: #f0f0f0;
            --white: rgba(44, 44, 44, 0.7);
            --gray: #a0a0a0;
            --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            --glass-bg: rgba(44, 44, 44, 0.7);
            --glass-border: rgba(255, 255, 255, 0.1);
            background: linear-gradient(135deg, #1e1e1e 0%, #2d3748 100%);
        }

        body.dark-mode .app-header {
            background: rgba(44, 44, 44, 0.7);
            backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            -webkit-backdrop-filter: blur(var(--blur-amount)) saturate(180%);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        body.dark-mode .search-bar {
            background: rgba(58, 58, 58, 0.6);
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        body.dark-mode .search-bar input {
            color: var(--text);
        }

        body.dark-mode .search-bar input::placeholder {
            color: var(--gray);
        }

        body.dark-mode .delivery-info {
            background: rgba(0, 122, 255, 0.2);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 122, 255, 0.3);
        }

        body.dark-mode .status-badge {
            color: #1e1e1e;
        }

        body.dark-mode .product-card,
        body.dark-mode .category-card,
        body.dark-mode .cart-item,
        body.dark-mode .order-card {
            background: rgba(58, 58, 58, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        body.dark-mode .form-input,
        body.dark-mode .form-select,
        body.dark-mode .form-textarea {
            background: rgba(58, 58, 58, 0.6);
            color: var(--text);
            border-color: rgba(255, 255, 255, 0.1);
        }

        body.dark-mode .form-input::placeholder {
            color: var(--gray);
        }

        /* Responsive Utilities */
        /* Hide on mobile, show on desktop */
        .hide-mobile {
            display: none;
        }

        @media (min-width: 768px) {
            .hide-mobile {
                display: block;
            }
        }

        /* Show on mobile, hide on desktop */
        .show-mobile {
            display: block;
        }

        @media (min-width: 768px) {
            .show-mobile {
                display: none;
            }
        }

        /* Touch-friendly sizing for mobile */
        @media (max-width: 767px) {

            button,
            a,
            .clickable {
                min-height: 44px;
                min-width: 44px;
            }

            /* Improve touch targets for mobile */
            .nav-item,
            .category-card,
            .product-card,
            .menu-item,
            .filter-btn {
                -webkit-tap-highlight-color: rgba(52, 152, 219, 0.1);
            }
        }

        /* Smooth scrolling for all devices */
        @media (prefers-reduced-motion: no-preference) {
            * {
                scroll-behavior: smooth;
            }

            html {
                scroll-padding-top: 80px;
            }
        }

        /* Respect user's preference for reduced motion */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }

        /* Tablet landscape optimizations */
        @media (min-width: 768px) and (max-width: 1023px) and (orientation: landscape) {
            .banner {
                height: 180px;
            }

            .product-grid {
                grid-template-columns: repeat(4, 1fr);
            }

            .categories {
                grid-template-columns: repeat(5, 1fr);
            }

            .details-image-container {
                height: 320px;
            }
        }

        /* Enhanced Filter System Styles */
        .filter-container {
            position: sticky;
            top: 60px;
            z-index: 90;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 16px;
            margin: 15px;
            padding: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }

        .filter-container:hover {
            box-shadow: 0 6px 24px rgba(0, 0, 0, 0.12);
        }

        @media (min-width: 768px) {
            .filter-container {
                margin: 20px 30px;
                padding: 20px;
            }
        }

        @media (min-width: 1024px) {
            .filter-container {
                margin: 20px 40px;
                padding: 25px 30px;
                display: flex;
                align-items: flex-end;
                gap: 15px;
                flex-wrap: wrap;
            }
        }

        .filter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        @media (min-width: 1024px) {
            .filter-header {
                width: 100%;
                margin-bottom: 0;
            }
        }

        .filter-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-title i {
            color: var(--primary);
        }

        @media (min-width: 768px) {
            .filter-title {
                font-size: 18px;
            }
        }

        .filter-toggle {
            display: flex;
            align-items: center;
            background: none;
            border: none;
            color: var(--primary);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 8px;
            transition: background-color 0.2s;
        }

        .filter-toggle:hover {
            background-color: rgba(52, 152, 219, 0.1);
        }

        .filter-toggle i {
            margin-left: 5px;
            transition: transform 0.3s;
        }

        .filter-toggle.collapsed i {
            transform: rotate(180deg);
        }

        @media (min-width: 1024px) {
            .filter-toggle {
                display: none;
            }
        }

        .filter-content {
            display: grid;
            gap: 15px;
            transition: max-height 0.3s ease, opacity 0.3s ease;
        }

        .filter-content.collapsed {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }

        @media (min-width: 1024px) {
            .filter-content {
                display: contents;
            }

            .filter-content.collapsed {
                max-height: none;
                opacity: 1;
                overflow: visible;
            }
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        @media (min-width: 1024px) {
            .filter-group {
                flex: 1;
                min-width: 180px;
            }
        }

        .filter-label {
            font-size: 13px;
            font-weight: 500;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .filter-label i {
            font-size: 12px;
            color: var(--primary);
        }

        @media (min-width: 768px) {
            .filter-label {
                font-size: 14px;
            }
        }

        .filter-select {
            padding: 12px 15px;
            border: 2px solid rgba(52, 152, 219, 0.2);
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 10px;
            font-size: 14px;
            font-weight: 500;
            color: var(--dark);
            cursor: pointer;
            transition: all 0.3s ease;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%233498db' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 15px center;
            padding-right: 40px;
        }

        .filter-select:hover {
            border-color: var(--primary);
            background-color: rgba(255, 255, 255, 0.95);
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        @media (min-width: 768px) {
            .filter-select {
                padding: 14px 16px;
                font-size: 15px;
            }
        }

        .filter-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
        }

        @media (min-width: 1024px) {
            .filter-actions {
                display: flex;
                margin-top: 0;
                margin-left: auto;
                gap: 10px;
            }
        }

        .filter-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            white-space: nowrap;
        }

        .filter-btn-apply {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
        }

        .filter-btn-apply:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        }

        .filter-btn-apply:active {
            transform: translateY(0);
        }

        .filter-btn-clear {
            background: rgba(231, 76, 60, 0.1);
            color: var(--secondary);
            border: 2px solid rgba(231, 76, 60, 0.3);
        }

        .filter-btn-clear:hover {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }

        @media (min-width: 768px) {
            .filter-btn {
                padding: 14px 24px;
                font-size: 15px;
            }
        }

        @media (min-width: 1024px) {
            .filter-btn {
                padding: 14px 28px;
            }
        }

        .filter-count {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: var(--primary);
            color: white;
            font-size: 11px;
            font-weight: 700;
            padding: 2px 8px;
            border-radius: 12px;
            margin-left: 8px;
        }

        .active-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(52, 152, 219, 0.2);
        }

        @media (min-width: 1024px) {
            .active-filters {
                width: 100%;
                margin-top: 15px;
            }
        }

        .filter-chip {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.15), rgba(52, 152, 219, 0.1));
            color: var(--primary);
            border: 1px solid rgba(52, 152, 219, 0.3);
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .filter-chip:hover {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.2), rgba(52, 152, 219, 0.15));
            transform: translateY(-1px);
        }

        .filter-chip i {
            font-size: 10px;
            cursor: pointer;
            padding: 2px;
            transition: transform 0.2s;
        }

        .filter-chip i:hover {
            transform: scale(1.2);
        }

        @media (min-width: 768px) {
            .filter-chip {
                font-size: 13px;
                padding: 8px 14px;
            }
        }

        /* Enhanced focus states for accessibility */
        button:focus-visible,
        a:focus-visible,
        input:focus-visible,
        select:focus-visible,
        textarea:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        /* Improved hover states for desktop */
        @media (min-width: 1024px) {
            .product-card:hover .product-image img {
                transform: scale(1.05);
                transition: transform 0.4s ease;
            }

            .category-card:hover .category-icon {
                transform: rotate(5deg) scale(1.1);
            }

            .btn:hover {
                transform: translateY(-2px);
            }
        }

        /* Optimize images for different screen sizes */
        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        /* Prevent text overflow */
        .product-title,
        .cart-item-title,
        .order-item-name {
            overflow: hidden;
            text-overflow: ellipsis;
            word-wrap: break-word;
        }

        /* Better scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--light);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        /* Desktop: Wider scrollbar */
        @media (min-width: 1024px) {
            ::-webkit-scrollbar {
                width: 10px;
                height: 10px;
            }
        }

        /* Loading states */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }

        /* Empty state styling */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--gray);
        }

        .empty-state i {
            font-size: 48px;
            margin-bottom: 15px;
            opacity: 0.5;
        }

        /* Desktop: Larger empty state */
        @media (min-width: 768px) {
            .empty-state {
                padding: 60px 30px;
            }

            .empty-state i {
                font-size: 64px;
                margin-bottom: 20px;
            }
        }

        @media (min-width: 1024px) {
            .empty-state {
                padding: 80px 40px;
            }

            .empty-state i {
                font-size: 80px;
            }
        }
    </style>
</head>

<body>
    <!-- App Header -->
    <div class="app-header" id="main-header">
        <div class="header-content">
            <a href="#" class="logo">
                <i class="fas fa-bicycle"></i>
                Vibe Cycle
            </a>
            <div class="header-actions">
                <a href="#" class="header-icon" id="cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                </a>
                <a href="#" class="header-icon" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </a>
                <a href="#" class="header-icon" id="admin-access">
                    <i class="fas fa-user-cog"></i>
                </a>
            </div>
        </div>
    </div>

    <!-- Search Bar -->
    <div class="search-container" id="search-container">
        <div class="search-bar">
            <input type="text" placeholder="Search for ride-on toys...">
            <button><i class="fas fa-search"></i></button>
        </div>
    </div>

    <!-- App Screens -->
    <!-- Home Screen -->
    <div class="app-screen active" id="home-screen">
        <div class="banner">
            <h1>Fun On Wheels</h1>
            <p>Discover our premium collection of ride-on toys</p>
            <button class="banner-btn">Shop Now</button>
        </div>

        <div class="section-header">
            <h2 class="section-title">Categories</h2>
            <a href="#" class="see-all">See All</a>
        </div>

        <div class="categories">
            <div class="category-card">
                <div class="category-icon">
                    <i class="fas fa-male"></i>
                </div>
                <div class="category-name">Man</div>
            </div>
            <div class="category-card">
                <div class="category-icon">
                    <i class="fas fa-female"></i>
                </div>
                <div class="category-name">Woman</div>
            </div>
            <div class="category-card">
                <div class="category-icon">
                    <i class="fas fa-child"></i>
                </div>
                <div class="category-name">kids</div>
            </div>
        </div>

        <div class="section-header">
            <h2 class="section-title">Popular Toys</h2>
            <a href="#" class="see-all">See All</a>
        </div>

        <div class="product-grid" id="home-products">
            <!-- Products will be loaded here by JavaScript -->
        </div>
    </div>

    <!-- Products Screen -->
    <div class="app-screen" id="products-screen">
        <div class="filter-container">
            <div class="filter-header">
                <div class="filter-title">
                    <i class="fas fa-sliders-h"></i>
                    Filters & Sorting
                    <span class="filter-count" id="active-filter-count" style="display: none;">0</span>
                </div>
                <button class="filter-toggle" id="filter-toggle">
                    <span>Show Filters</span>
                    <i class="fas fa-chevron-up"></i>
                </button>
            </div>

            <div class="filter-content" id="filter-content">
                <div class="filter-group">
                    <label class="filter-label" for="sort-by-age">
                        <i class="fas fa-birthday-cake"></i>
                        Age Range
                    </label>
                    <select class="filter-select" id="sort-by-age">
                        <option value="">All Ages</option>
                        <option value="0-5">0-5 Years</option>
                        <option value="5-10">5-10 Years</option>
                        <option value="10+">10+ Years</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label class="filter-label" for="sort-by-price">
                        <i class="fas fa-rupee-sign"></i>
                        Price Range
                    </label>
                    <select class="filter-select" id="sort-by-price">
                        <option value="">Default</option>
                        <option value="low-to-high">Low to High</option>
                        <option value="high-to-low">High to Low</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label class="filter-label" for="sort-by-gear">
                        <i class="fas fa-cog"></i>
                        Gear Type
                    </label>
                    <select class="filter-select" id="sort-by-gear">
                        <option value="">All Types</option>
                        <option value="with-gear">With Gear</option>
                        <option value="no-gear">No Gear</option>
                    </select>
                </div>

                <div class="filter-actions">
                    <button class="filter-btn filter-btn-apply" id="apply-filters-btn">
                        <i class="fas fa-check"></i>
                        <span>Apply</span>
                    </button>
                    <button class="filter-btn filter-btn-clear" id="clear-filters-btn">
                        <i class="fas fa-times"></i>
                        <span>Clear</span>
                    </button>
                </div>
            </div>

            <div class="active-filters" id="active-filters" style="display: none;">
                <!-- Active filter chips will be displayed here -->
            </div>
        </div>

        <div class="section-header">
            <h2 class="section-title">All Toys</h2>
        </div>
        <div class="product-grid" id="all-products">
            <!-- All products will be loaded here by JavaScript -->
        </div>
    </div>

    <!-- Cart Screen -->
    <div class="app-screen" id="cart-screen">
        <div class="section-header">
            <h2 class="section-title">Your Cart</h2>
        </div>
        <div class="cart-items" id="cart-items">
            <!-- Cart items will be loaded here by JavaScript -->
        </div>
        <div class="cart-total">
            <div class="total-row">
                <span>Subtotal</span>
                <span>0</span>
            </div>
            <div class="total-row">
                <span>Shipping</span>
                <span>100</span>
            </div>
            <div class="total-row total-final">
                <span>Total</span>
                <span>100</span>
            </div>
            <button class="checkout-btn" id="checkout-btn">Proceed to Checkout</button>
        </div>
    </div>

    <!-- Profile Screen -->
    <div class="app-screen" id="profile-screen">
        <div class="profile-header">
            <div class="profile-avatar">
                <i class="fas fa-user"></i>
            </div>
            <div class="profile-name" id="profile-name">Guest User</div>
            <div class="profile-email" id="profile-email">guest@example.com</div>
        </div>
        <div class="profile-menu">
            <div class="menu-item" id="my-orders-menu">
                <div class="menu-icon">
                    <i class="fas fa-shopping-bag"></i>
                </div>
                <div class="menu-text">My Orders</div>
                <div class="menu-arrow">
                    <i class="fas fa-chevron-right"></i>
                </div>
            </div>
            <div class="menu-item" id="addresses-menu">
                <div class="menu-icon">
                    <i class="fas fa-map-marker-alt"></i>
                </div>
                <div class="menu-text">Addresses</div>
                <div class="menu-arrow">
                    <i class="fas fa-chevron-right"></i>
                </div>
            </div>
            <div class="menu-item" id="settings-menu">
                <div class="menu-icon">
                    <i class="fas fa-cog"></i>
                </div>
                <div class="menu-text">Settings</div>
                <div class="menu-arrow">
                    <i class="fas fa-chevron-right"></i>
                </div>
            </div>
            <div class="menu-item" id="support-menu">
                <div class="menu-icon">
                    <i class="fas fa-headset"></i>
                </div>
                <div class="menu-text">Support</div>
                <div class="menu-arrow">
                    <i class="fas fa-chevron-right"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Details Screen -->
    <div class="app-screen" id="product-details-screen">
        <div class="product-details">
            <div class="details-header">
                <button class="back-button" id="back-from-details">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2>Product Details</h2>
                <div></div> <!-- Spacer for flex alignment -->
            </div>
            <div class="details-image-container">
                <img src="" alt="Product Image" class="details-main-image" id="details-main-image">
            </div>
            <div class="image-thumbnails" id="image-thumbnails">
                <!-- Thumbnails will be loaded here by JavaScript -->
            </div>
            <div class="details-content">
                <h1 class="details-title" id="details-title">Product Title</h1>
                <div class="details-brand" id="details-brand">by Brand</div>
                <div class="details-rating">
                    <div class="stars" id="details-stars">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <div class="rating-count" id="details-rating-count">4.7 (342 ratings)</div>
                </div>
                <div class="details-price" id="details-price">12,499</div>
                <div class="details-color-options" id="details-color-options">
                    <h3>Color</h3>
                    <div class="color-options-container">
                        <button class="color-option" data-color="red" style="background-color: red;"></button>
                        <button class="color-option" data-color="blue" style="background-color: blue;"></button>
                        <button class="color-option" data-color="green" style="background-color: green;"></button>
                    </div>
                </div>

                <div class="details-description" id="details-description">
                    <p>This premium ride-on toy is designed for fun and safety. With its durable construction and
                        child-friendly features, it offers hours of entertainment for your little ones.</p>
                </div>
                <div class="details-features">
                    <h3>Key Features</h3>
                    <ul id="details-features">
                        <li>Durable construction</li>
                        <li>Child-safe materials</li>
                        <li>Easy to maneuver</li>
                        <li>Fun design</li>
                    </ul>
                </div>
                <div class="delivery-info">
                    <p><i class="fas fa-shipping-fast"></i> <strong>FREE Delivery</strong> by Vibe Cycle - Get it by
                        Tomorrow</p>
                    <p><i class="fas fa-map-marker-alt"></i> Delivery to your location</p>
                </div>
            </div>
            <div class="action-buttons">
                <button class="btn btn-primary" id="details-add-to-cart">
                    <i class="fas fa-shopping-cart"></i> Add to Cart
                </button>
                <button class="btn btn-primary" id="details-order-whatsapp">
                    Buy Now
                </button>
            </div>
        </div>
    </div>

    <!-- Checkout Screen -->
    <div class="app-screen" id="checkout-screen">
        <div class="checkout-screen">
            <div class="checkout-header">
                <button class="back-button" id="back-from-checkout">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2 class="checkout-title">Checkout</h2>
                <div></div> <!-- Spacer for flex alignment -->
            </div>
            <div class="checkout-content">
                <div class="checkout-section">
                    <h3 class="section-title">Delivery Address</h3>
                    <div class="address-card">
                        <div class="address-name" id="checkout-address-name">Guest User</div>
                        <div class="address-details" id="checkout-address-details">
                            123 Main Street, Apartment 4B<br>
                            Chennai, Tamil Nadu 600001<br>
                            Phone: +91 98765 43210
                        </div>
                        <div class="address-actions">
                            <button class="address-btn" id="edit-address-btn">Edit</button>
                            <button class="address-btn" id="change-address-btn">Change</button>
                        </div>
                    </div>
                </div>

                <div class="checkout-section">
                    <h3 class="section-title">Payment Information</h3>
                    <div class="delivery-info">
                        <p><i class="fas fa-info-circle"></i> <strong>Cash on Delivery Only</strong></p>
                        <p>Pay when you receive your order. Our delivery executive will collect the payment at your
                            doorstep.</p>
                    </div>
                </div>

                <div class="checkout-section">
                    <h3 class="section-title">Order Summary</h3>
                    <div class="order-summary">
                        <div class="summary-row">
                            <span>Subtotal</span>
                            <span>0</span>
                        </div>
                        <div class="summary-row">
                            <span>Shipping</span>
                            <span>100</span>
                        </div>
                        <div class="summary-row">
                            <span>Tax</span>
                            <span>0</span>
                        </div>
                        <div class="summary-row summary-total">
                            <span>Total</span>
                            <span>100</span>
                        </div>
                    </div>
                </div>

                <button class="place-order-btn" id="place-order-btn">
                    <i class="fas fa-check-circle"></i> Confirm Order
                </button>
            </div>
        </div>
    </div>

    <!-- Address Selection Screen -->
    <div class="app-screen" id="address-screen">
        <div class="address-screen">
            <div class="address-header">
                <button class="back-button" id="back-from-address">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2 class="address-title">Delivery Address</h2>
                <div></div> <!-- Spacer for flex alignment -->
            </div>
            <div class="address-content">
                <form class="address-form" id="address-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName" class="form-label required">First Name</label>
                            <input type="text" class="form-input" id="firstName" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName" class="form-label required">Last Name</label>
                            <input type="text" class="form-input" id="lastName" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="phone" class="form-label required">Phone Number</label>
                        <input type="tel" class="form-input" id="phone" required>
                    </div>

                    <div class="form-group">
                        <label for="address" class="form-label required">Street Address</label>
                        <input type="text" class="form-input" id="address" placeholder="House/Flat No., Street Name"
                            required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="city" class="form-label required">City</label>
                            <input type="text" class="form-input" id="city" required>
                        </div>
                        <div class="form-group">
                            <label for="state" class="form-label required">State</label>
                            <select class="form-input" id="state" required>
                                <option value="">Select State</option>
                                <option value="Tamil Nadu">Tamil Nadu</option>
                                <option value="Karnataka">Karnataka</option>
                                <option value="Kerala">Kerala</option>
                                <option value="Andhra Pradesh">Andhra Pradesh</option>
                                <option value="Telangana">Telangana</option>
                                <option value="Maharashtra">Maharashtra</option>
                                <option value="Delhi">Delhi</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="pincode" class="form-label required">PIN Code</label>
                            <input type="text" class="form-input" id="pincode" required>
                        </div>
                        <div class="form-group">
                            <label for="landmark" class="form-label">Landmark (Optional)</label>
                            <input type="text" class="form-input" id="landmark" placeholder="Nearby famous place">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="instructions" class="form-label">Delivery Instructions (Optional)</label>
                        <textarea class="form-input" id="instructions" rows="3"
                            placeholder="Any specific delivery instructions..."></textarea>
                    </div>

                    <div class="checkbox-group">
                        <input type="checkbox" id="saveAddress">
                        <label for="saveAddress">Save this address for future orders</label>
                    </div>
                </form>

                <button class="place-order-btn mt-10" id="save-address-btn">Save Address & Continue</button>
            </div>
        </div>
    </div>

    <!-- Admin Login Screen -->
    <div class="app-screen" id="admin-login-screen">
        <div class="admin-login-screen">
            <div class="admin-login-container">
                <div class="admin-login-header">
                    <div class="auth-logo">
                        <i class="fas fa-bicycle"></i>
                        Vibe Cycle
                    </div>
                    <h2 class="admin-login-title">Admin Login</h2>
                    <p class="admin-login-subtitle">Enter your credentials to access the admin panel</p>
                </div>

                <div class="login-error" id="admin-login-error">
                    Invalid username or password. Please try again.
                </div>

                <form class="admin-login-form" id="admin-login-form">
                    <div class="form-group">
                        <label class="form-label" for="admin-username">Username</label>
                        <input type="text" class="form-input" id="admin-username" placeholder="Enter admin username"
                            required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="admin-password">Password</label>
                        <input type="password" class="form-input" id="admin-password" placeholder="Enter admin password"
                            required>
                    </div>
                    <button type="submit" class="btn btn-primary">Login to Admin Panel</button>
                </form>

                <div class="auth-footer mt-10">
                    <a href="#" class="auth-link" id="back-to-store-from-admin">Back to Store</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div class="app-screen" id="admin-screen">
        <div class="admin-panel">
            <div class="admin-header">
                <h1 class="admin-title">Vibe Cycle Admin Panel</h1>
                <div>
                    <span style="margin-right: 15px; color: var(--gray);">Welcome, Admin</span>
                    <button class="btn btn-primary" id="back-to-store">
                        <i class="fas fa-store"></i> Back to Store
                    </button>
                    <button class="btn btn-secondary" id="admin-logout" style="margin-left: 10px;">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>

            <!-- Real-time Order System Info Banner -->
            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px 20px; margin: 15px; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.15);">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <i class="fas fa-bolt" style="font-size: 24px;"></i>
                    <div style="flex: 1;">
                        <h4 style="margin: 0 0 5px 0; font-size: 16px;"> Real-Time Order System Active</h4>
                        <p style="margin: 0; font-size: 13px; opacity: 0.95;">Orders are now sent directly from customers to this admin panel in real-time via Firebase. Customer devices do NOT store order data locally. Configure your Firebase credentials in the JavaScript section to enable live order synchronization.</p>
                    </div>
                </div>
                <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid rgba(255,255,255,0.2); font-size: 12px; opacity: 0.9;">
                    <strong>Firebase Status:</strong> <span id="firebase-status-indicator">Checking...</span> | 
                    <strong>Orders Today:</strong> <span id="orders-today-count">0</span>
                </div>
            </div>

            <div class="admin-nav">
                <button class="admin-nav-item active" data-section="dashboard">Dashboard</button>
                <button class="admin-nav-item" data-section="orders">Orders</button>
                <button class="admin-nav-item" data-section="products">Products</button>
                <button class="admin-nav-item" data-section="customers">Customers</button>
                <button class="admin-nav-item" data-section="revenue">Revenue</button>
            </div>

            <!-- Dashboard Section -->
            <div class="admin-section active" id="dashboard-section">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value">1,24,567</div>
                        <div class="stat-label">Total Revenue</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">42</div>
                        <div class="stat-label">Total Orders</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">3</div>
                        <div class="stat-label">Products</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">156</div>
                        <div class="stat-label">Customers</div>
                    </div>
                </div>

                <h3 class="section-title">Recent Orders</h3>
                <div class="table-container">
                    <table class="table" id="admin-orders-table">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Date</th>
                                <th>Amount</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="recent-orders-body">
                            <!-- Recent orders will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Orders Section -->
            <div class="admin-section" id="orders-section">
                <h3 class="section-title">All Orders</h3>
                <div class="table-container">
                    <table class="table" id="admin-orders-table">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Products</th>
                                <th>Date</th>
                                <th>Amount</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="orders-table-body">
                            <!-- Orders will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Products Section -->
            <div class="admin-section" id="products-section">
                <h3 class="section-title">Product Management</h3>

                <div class="product-form">
                    <h4>Add New Product</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Product Name</label>
                            <input type="text" class="form-input" id="product-name">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Brand</label>
                            <input type="text" class="form-input" id="product-brand">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Price</label>
                            <input type="number" class="form-input" id="product-price">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Category</label>
                            <select class="form-input" id="product-category">
                                <option value="men">Men</option>
                                <option value="woman">Woman</option>
                                <option value="kids">Kids</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-input" id="product-description" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Product Images</label>
                        <input type="file" class="form-input" id="product-images-upload" accept="image/*" multiple>
                        <div class="image-preview-container" id="product-images-preview"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Color Variants (Optional)</label>
                        <button type="button" class="btn btn-primary" id="add-color-variant-btn"
                            style="margin-bottom: 10px;">+ Add Color Variant</button>
                        <div id="color-variants-container"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Product Details PDF</label>
                        <input type="file" class="form-input" id="product-pdf-upload" accept="application/pdf">
                        <div id="product-pdf-preview"></div>
                    </div>
                    <button class="btn btn-primary" id="add-product-btn">Add Product</button>
                </div>

                <div class="table-container">
                    <table class="table" id="admin-products-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Product</th>
                                <th>Brand</th>
                                <th>Category</th>
                                <th>Price</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="products-table-body">
                            <!-- Products will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Revenue Section -->
            <div class="admin-section" id="revenue-section">
                <h3 class="section-title">Revenue Analytics</h3>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value">1,24,567</div>
                        <div class="stat-label">Total Revenue</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">89,432</div>
                        <div class="stat-label">This Month</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">35,128</div>
                        <div class="stat-label">Last Month</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">42</div>
                        <div class="stat-label">Total Orders</div>
                    </div>
                </div>

                <h4 class="section-title">Top Selling Products</h4>
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Product</th>
                                <th>Units Sold</th>
                                <th>Revenue</th>
                            </tr>
                        </thead>
                        <tbody id="top-products-body">
                            <!-- Top products will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- User Authentication Screen -->
    <div class="app-screen" id="auth-screen">
        <div class="auth-screen">
            <div class="auth-container">
                <div class="auth-header">
                    <div class="auth-logo">
                        <i class="fas fa-bicycle"></i>
                        Vibe Cycle
                    </div>
                    <h2 class="auth-title" id="auth-title">Login</h2>
                    <p class="auth-subtitle" id="auth-subtitle">Enter your credentials to access your account</p>
                </div>

                <div class="login-error" id="auth-error">
                    Invalid username/email or password. Please try again.
                </div>

                <form class="auth-form" id="auth-form">
                    <div class="form-group">
                        <label class="form-label" for="auth-username">Username</label>
                        <input type="text" class="form-input" id="auth-username" placeholder="Enter your username"
                            required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="auth-email">Email</label>
                        <input type="email" class="form-input" id="auth-email" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="auth-password">Password</label>
                        <input type="password" class="form-input" id="auth-password" placeholder="Enter your password"
                            required>
                    </div>
                    <div class="form-group" id="auth-name-group" style="display: none;">
                        <label class="form-label" for="auth-name">Full Name</label>
                        <input type="text" class="form-input" id="auth-name" placeholder="Enter your full name">
                    </div>
                    <button type="submit" class="btn btn-primary" id="auth-submit-btn">Login</button>
                </form>

                <div class="auth-switch">
                    <span id="auth-switch-text">Don't have an account?</span>
                    <a href="#" class="auth-link" id="auth-switch-link">Sign Up</a>
                </div>

                <div class="auth-footer">
                    <a href="#" class="auth-link" id="auth-guest-continue">Continue as Guest</a>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Profile Screen -->
    <div class="app-screen" id="edit-profile-screen">
        <div class="checkout-screen">
            <div class="checkout-header">
                <button class="back-button" id="back-from-edit-profile">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2 class="checkout-title">Edit Profile</h2>
                <div></div>
            </div>
            <div class="profile-form">
                <form id="edit-profile-form">
                    <div class="form-group">
                        <label class="form-label" for="edit-profile-name">Full Name</label>
                        <input type="text" class="form-input" id="edit-profile-name" placeholder="Enter your full name">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="edit-profile-email">Email</label>
                        <input type="email" class="form-input" id="edit-profile-email" placeholder="Enter your email">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="edit-profile-phone">Phone Number</label>
                        <input type="tel" class="form-input" id="edit-profile-phone"
                            placeholder="Enter your phone number">
                    </div>
                    <button type="submit" class="btn btn-primary w-100 mt-20">Save Changes</button>
                </form>
            </div>
        </div>
    </div>

    <!-- My Orders Screen -->
    <div class="app-screen" id="my-orders-screen">
        <div class="checkout-screen">
            <div class="checkout-header">
                <button class="back-button" id="back-from-my-orders">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2 class="checkout-title">My Orders</h2>
                <div></div>
            </div>
            <div class="order-history" id="order-history-container">
                <!-- Orders will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Support Screen -->
    <div class="app-screen" id="support-screen">
        <div class="checkout-screen">
            <div class="checkout-header">
                <button class="back-button" id="back-from-support">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2 class="checkout-title">Support</h2>
                <div></div>
            </div>
            <div class="checkout-content">
                <div class="support-contact">
                    <h3 class="section-title">Contact Information</h3>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-details">
                            <div class="contact-label">Phone Number</div>
                            <div class="contact-value">+91 98765 43210</div>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-details">
                            <div class="contact-label">Email Address</div>
                            <div class="contact-value">support@vibecycle.com</div>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-details">
                            <div class="contact-label">Business Address</div>
                            <div class="contact-value">123 Toy Street, Chennai, Tamil Nadu 600001</div>
                        </div>
                    </div>
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="contact-details">
                            <div class="contact-label">Business Hours</div>
                            <div class="contact-value">Mon-Sat: 9:00 AM - 7:00 PM</div>
                        </div>
                    </div>
                </div>

                <div class="delivery-info">
                    <h3>Frequently Asked Questions</h3>
                    <div style="margin-top: 15px;">
                        <p><strong>Q: What is your return policy?</strong></p>
                        <p>A: We offer a 7-day return policy for unused products in original packaging.</p>

                        <p style="margin-top: 10px;"><strong>Q: Do you offer warranty on products?</strong></p>
                        <p>A: Yes, all our products come with a 6-month manufacturer warranty.</p>

                        <p style="margin-top: 10px;"><strong>Q: How long does delivery take?</strong></p>
                        <p>A: Delivery typically takes 2-5 business days depending on your location.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav" id="bottom-nav">
        <a href="#" class="nav-item active" data-screen="home-screen">
            <i class="fas fa-home nav-icon"></i>
            <span>Home</span>
        </a>
        <a href="#" class="nav-item" data-screen="products-screen">
            <i class="fas fa-bicycle nav-icon"></i>
            <span>Products</span>
        </a>
        <a href="#" class="nav-item" data-screen="cart-screen">
            <i class="fas fa-shopping-cart nav-icon"></i>
            <span>Cart</span>
        </a>
        <a href="#" class="nav-item" data-screen="profile-screen">
            <i class="fas fa-user nav-icon"></i>
            <span>Profile</span>
        </a>
    </div>

    <!-- Modal for Order Details -->
    <div class="modal-overlay" id="order-details-modal" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Order Details</h3>
                <button class="modal-close" id="close-order-details">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="order-details-content">
                <!-- Order details will be populated by JavaScript -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="print-order-btn"><i class="fas fa-print"></i> Print</button>
            </div>
        </div>
    </div>

    <!-- Modal for Edit Product -->
    <div class="modal-overlay" id="edit-product-modal" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Edit Product</h3>
                <button class="modal-close" id="close-edit-product">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form class="edit-product-form" id="edit-product-form">
                    <div class="form-group">
                        <label class="form-label">Product Name</label>
                        <input type="text" class="form-input" id="edit-product-name" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Brand</label>
                        <input type="text" class="form-input" id="edit-product-brand" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Price</label>
                            <input type="number" class="form-input" id="edit-product-price" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">MRP</label>
                            <input type="number" class="form-input" id="edit-product-mrp" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Category</label>
                        <select class="form-select" id="edit-product-category" required>
                            <option value="men">Men</option>
                            <option value="woman">Woman</option>
                            <option value="kids">Kids</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Stock Status</label>
                        <select class="form-select" id="edit-product-stock" required>
                            <option value="In Stock">In Stock</option>
                            <option value="Out of Stock">Out of Stock</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-textarea" id="edit-product-description" required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Features (comma separated)</label>
                        <textarea class="form-textarea" id="edit-product-features" required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Product Images</label>
                        <input type="file" class="form-input" id="edit-product-images-upload" accept="image/*" multiple>
                        <div class="image-preview-container" id="edit-product-images-preview"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Color Variants (Optional)</label>
                        <button type="button" class="btn btn-primary" id="edit-add-color-variant-btn"
                            style="margin-bottom: 10px;">+ Add Color Variant</button>
                        <div id="edit-color-variants-container"></div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Product Details PDF</label>
                        <input type="file" class="form-input" id="edit-product-pdf-upload" accept="application/pdf">
                        <div id="edit-product-pdf-preview"></div>
                    </div>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        /*
        
                              REAL-TIME ORDER SYSTEM - DOCUMENTATION                  
        
        
         SYSTEM OVERVIEW:
        -------------------
        This e-commerce platform now uses a REAL-TIME ORDER SYSTEM where:
        
         Customer orders are sent DIRECTLY to the admin panel
         Orders are NOT stored on customer's devices (no localStorage)
         Admin receives orders in real-time without page refresh
         Data flows: Customer  Firebase/Webhook  Admin Panel
        
         HOW IT WORKS:
        ----------------
        1. Customer browses products and adds items to cart
        2. Customer places order with shipping details
        3. Order is sent IMMEDIATELY to Firebase Realtime Database
        4. Admin panel listens to Firebase and displays new orders instantly
        5. Customer cart is cleared (order data NOT saved locally)
        
         SETUP REQUIRED (FOR ADMIN):
        --------------------------------
        You MUST configure Firebase to enable real-time orders:
        
        OPTION 1: Firebase (Recommended) - Free & Real-time
        
        1. Create Firebase account at https://firebase.google.com/
        2. Create new project
        3. Enable "Realtime Database"
        4. Copy your Firebase config and replace values in firebaseConfig below
        5. Orders will sync in real-time!
        
        OPTION 2: Webhook (Alternative) - Works with any backend
        
        1. Set up a webhook endpoint (Zapier, Make.com, or custom server)
        2. Configure webhookURL in sendOrderViaWebhook() function
        3. Orders will be sent via HTTP POST to your endpoint
        
         KEY FEATURES:
        ----------------
         Zero data storage on customer device
         Real-time order notifications to admin
         Secure order transmission
         Fallback webhook system
         Live order count and status tracking
        
         CUSTOMER EXPERIENCE:
        -----------------------
         Places order  Sees confirmation message
         Order data sent to admin immediately
         No order history stored locally (for privacy)
         Can view order status by logging in (data from Firebase)
        
         ADMIN EXPERIENCE:
        ----------------------
         Receives orders in real-time (no refresh needed)
         See Firebase connection status in admin panel
         View all orders, customer details, and analytics
         Update order status (syncs back to Firebase)
        
         TECHNICAL DETAILS:
        ----------------------
         Firebase SDK: v9.23.0 (included via CDN)
         Real-time listeners: Auto-updates on new orders
         Fallback: Webhook POST if Firebase unavailable
         Security: Configure Firebase rules for production
        
         ADMIN LOGIN:
        ---------------
        Username: admin
        Password: admin123
        (Change these in ADMIN_CREDENTIALS below)
        
        
        */

        // Admin credentials
        const ADMIN_CREDENTIALS = {
            username: "admin",
            password: "admin123"
        };

        // Product Data from Excel Sheet
        const products = [
            {
                id: 1,
                name: "Ride-On JCB Excavator Toy",
                brand: "Vibe Cycle",
                price: 2899,
                mrp: 3499,
                category: "men",
                recommendedAge: "2  5 Years",
                material: "Non-toxic Plastic",
                dimensions: "80 x 30 x 45 cm",
                weightCapacity: "Up to 25 kg",
                description: "A realistic JCB excavator ride-on toy that provides hours of fun for young construction enthusiasts. Features a 360 rotating seat and functional JCB arm.",
                features: [
                    "360 rotating seat",
                    "Realistic JCB arm",
                    "Under-seat storage",
                    "Durable wheels",
                    "Manual ride control"
                ],
                images: [
                    "https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1576788532116-8d687f1e9e6c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1596461404969-9ae70f2830c1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1580273916550-e323be2ae537?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1534452203293-494d7ddbf7e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                ],
                rating: 4.7,
                ratingCount: 342,
                features: ['Durable construction', 'Child-safe materials', 'Easy to maneuver', 'Fun design'],
                stock: "Out of Stock",
                age: '5-10',
                pdfDetails: null
            },
            {
                id: 2,
                name: "Classic Ride-On Push Car",
                brand: "Vibe Cycle",
                price: 1799,
                mrp: 2199,
                category: "woman",
                recommendedAge: "1.5  4 Years",
                material: "Sturdy Plastic Body",
                dimensions: "70 x 28 x 40 cm",
                weightCapacity: "Up to 20 kg",
                description: "A classic push car designed for toddlers with a comfortable seat, horn sound, and easy steering control. Perfect for developing motor skills.",
                features: [
                    "Comfortable seat",
                    "Horn sound",
                    "Steering control",
                    "Anti-slip wheels"
                ],
                images: [
                    "https://images.unsplash.com/photo-1576788532116-8d687f1e9e6c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1596461404969-9ae70f2830c1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1580273916550-e323be2ae537?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1534452203293-494d7ddbf7e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                ],
                rating: 4.5,
                ratingCount: 218,
                stock: "In Stock",
                pdfDetails: null
            },
            {
                id: 3,
                name: "Ride-On Push Car with Storage Seat",
                brand: "Vibe Cycle",
                price: 1899,
                mrp: 2299,
                category: "kids",
                recommendedAge: "1.5  4 Years",
                material: "Child-Safe ABS Plastic",
                dimensions: "72 x 30 x 42 cm",
                weightCapacity: "Up to 20 kg",
                description: "A versatile ride-on push car featuring under-seat storage for toys and essentials. Includes a backrest ring handle for parental control.",
                features: [
                    "Under-seat storage box",
                    "Backrest ring handle",
                    "Smooth steering",
                    "Stable 4-wheel design"
                ],
                images: [
                    "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1576788532116-8d687f1e9e6c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1596461404969-9ae70f2830c1?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1580273916550-e323be2ae537?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    "https://images.unsplash.com/photo-1534452203293-494d7ddbf7e0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                ],
                rating: 4.6,
                ratingCount: 156,
                stock: "In Stock",
                pdfDetails: null
            }
        ];

        // Orders Data - No longer using localStorage for customer orders
        let orders = [];

        // Firebase Configuration
        // ===============================================
        // IMPORTANT SETUP INSTRUCTIONS FOR ADMIN:
        // ===============================================
        // This system sends orders directly from customers to your admin panel in REAL-TIME.
        // Customer devices DO NOT store order data locally.
        //
        // TO ENABLE REAL-TIME ORDERS:
        // 1. Go to https://firebase.google.com/ and create a free account
        // 2. Create a new Firebase project
        // 3. In Firebase Console, go to "Realtime Database" and create a database
        // 4. Set database rules to allow read/write (for testing):
        //    {
        //      "rules": {
        //        "orders": {
        //          ".read": true,
        //          ".write": true
        //        }
        //      }
        //    }
        // 5. Go to Project Settings > General > Your apps
        // 6. Click "Web app" and register your app
        // 7. Copy the Firebase configuration and replace the values below
        //
        // REPLACE THESE VALUES WITH YOUR ACTUAL FIREBASE CONFIG:
        // ===============================================
        const firebaseConfig = {
            apiKey: "AIzaSyDEMOKEY123456789",  // Replace with your API key
            authDomain: "your-app.firebaseapp.com",  // Replace with your auth domain
            databaseURL: "https://your-app-default-rtdb.firebaseio.com",  // Replace with your database URL
            projectId: "your-app",  // Replace with your project ID
            storageBucket: "your-app.appspot.com",  // Replace with your storage bucket
            messagingSenderId: "123456789",  // Replace with your messaging sender ID
            appId: "1:123456789:web:abc123def456"  // Replace with your app ID
        };
        // ===============================================
        //
        // ALTERNATIVE: WEBHOOK FALLBACK
        // If you don't want to use Firebase, you can use the webhook method.
        // See the sendOrderViaWebhook() function below and configure your webhook URL.
        //
        // HOW IT WORKS:
        // - When a customer places an order, it's sent DIRECTLY to Firebase
        // - The admin panel listens to Firebase for new orders in real-time
        // - Orders appear instantly in the admin panel without page refresh
        // - Customer devices have NO access to order data (no localStorage)
        // ===============================================

        // Initialize Firebase
        let database = null;
        try {
            if (!firebase.apps.length) {
                firebase.initializeApp(firebaseConfig);
            }
            database = firebase.database();
            console.log('Firebase initialized successfully');
            updateFirebaseStatus('Connected ', '#2ecc71');
        } catch (error) {
            console.error('Firebase initialization error:', error);
            // Fallback: You can configure a webhook URL here
            database = null;
            updateFirebaseStatus('Not configured (using fallback)', '#f39c12');
        }

        // Update Firebase status indicator
        function updateFirebaseStatus(status, color) {
            const statusIndicator = document.getElementById('firebase-status-indicator');
            if (statusIndicator) {
                statusIndicator.textContent = status;
                statusIndicator.style.color = color || '#ffffff';
                statusIndicator.style.fontWeight = 'bold';
            }
        }

        // Update orders today count
        function updateOrdersTodayCount() {
            const today = new Date().toLocaleDateString();
            const todayOrders = orders.filter(order => order.date === today);
            const countElement = document.getElementById('orders-today-count');
            if (countElement) {
                countElement.textContent = todayOrders.length;
            }
        }

        // User State
        let currentUser = null;
        let isAdminLoggedIn = false;
        let isLoginMode = true;
        let cart = [];
        let currentAddress = null;
        let currentEditingProductId = null;

        let activeFilters = {
            age: null,
            price: null,
            gear: null
        };

        // DOM Elements
        const mainHeader = document.getElementById('main-header');
        const searchContainer = document.getElementById('search-container');
        const bottomNav = document.getElementById('bottom-nav');
        const homeScreen = document.getElementById('home-screen');
        const productsScreen = document.getElementById('products-screen');
        const cartScreen = document.getElementById('cart-screen');
        const profileScreen = document.getElementById('profile-screen');
        const productDetailsScreen = document.getElementById('product-details-screen');
        const checkoutScreen = document.getElementById('checkout-screen');
        const addressScreen = document.getElementById('address-screen');
        const adminLoginScreen = document.getElementById('admin-login-screen');
        const adminScreen = document.getElementById('admin-screen');
        const authScreen = document.getElementById('auth-screen');
        const editProfileScreen = document.getElementById('edit-profile-screen');
        const myOrdersScreen = document.getElementById('my-orders-screen');
        const supportScreen = document.getElementById('support-screen');
        const homeProducts = document.getElementById('home-products');
        const allProducts = document.getElementById('all-products');
        const cartItems = document.getElementById('cart-items');
        const profileName = document.getElementById('profile-name');
        const profileEmail = document.getElementById('profile-email');
        const adminAccessBtn = document.getElementById('admin-access');
        const cartIcon = document.getElementById('cart-icon');
        const themeToggle = document.getElementById('theme-toggle');
        const checkoutBtn = document.getElementById('checkout-btn');
        const placeOrderBtn = document.getElementById('place-order-btn');
        const backFromDetails = document.getElementById('back-from-details');
        const backFromCheckout = document.getElementById('back-from-checkout');
        const backFromAddress = document.getElementById('back-from-address');
        const backFromEditProfile = document.getElementById('back-from-edit-profile');
        const backFromMyOrders = document.getElementById('back-from-my-orders');
        const backFromSupport = document.getElementById('back-from-support');
        const detailsAddToCart = document.getElementById('details-add-to-cart');
        const detailsOrderWhatsapp = document.getElementById('details-order-whatsapp');
        const editAddressBtn = document.getElementById('edit-address-btn');
        const changeAddressBtn = document.getElementById('change-address-btn');
        const saveAddressBtn = document.getElementById('save-address-btn');
        const addressForm = document.getElementById('address-form');
        const adminLoginForm = document.getElementById('admin-login-form');
        const adminLoginError = document.getElementById('admin-login-error');
        const backToStore = document.getElementById('back-to-store');
        const backToStoreFromAdmin = document.getElementById('back-to-store-from-admin');
        const adminLogoutBtn = document.getElementById('admin-logout');
        const adminNavItems = document.querySelectorAll('.admin-nav-item');
        const adminSections = document.querySelectorAll('.admin-section');
        const addProductBtn = document.getElementById('add-product-btn');
        const productImagesUpload = document.getElementById('product-images-upload');
        const productImagesPreview = document.getElementById('product-images-preview');
        const productPdfUpload = document.getElementById('product-pdf-upload');
        const productPdfPreview = document.getElementById('product-pdf-preview');
        const editProductPdfUpload = document.getElementById('edit-product-pdf-upload');
        const editProductPdfPreview = document.getElementById('edit-product-pdf-preview');
        const ordersTableBody = document.getElementById('orders-table-body');
        const recentOrdersBody = document.getElementById('recent-orders-body');
        const productsTableBody = document.getElementById('products-table-body');
        const topProductsBody = document.getElementById('top-products-body');
        const navItems = document.querySelectorAll('.nav-item');
        const authForm = document.getElementById('auth-form');
        const authError = document.getElementById('auth-error');
        const authTitle = document.getElementById('auth-title');
        const authSubtitle = document.getElementById('auth-subtitle');
        const authSubmitBtn = document.getElementById('auth-submit-btn');
        const authSwitchText = document.getElementById('auth-switch-text');
        const authSwitchLink = document.getElementById('auth-switch-link');
        const authNameGroup = document.getElementById('auth-name-group');
        const authGuestContinue = document.getElementById('auth-guest-continue');
        const editProfileForm = document.getElementById('edit-profile-form');
        const orderHistoryContainer = document.getElementById('order-history-container');
        const myOrdersMenu = document.getElementById('my-orders-menu');
        const addressesMenu = document.getElementById('addresses-menu');
        const settingsMenu = document.getElementById('settings-menu');
        const supportMenu = document.getElementById('support-menu');
        const orderDetailsModal = document.getElementById('order-details-modal');
        const closeOrderDetails = document.getElementById('close-order-details');
        const orderDetailsContent = document.getElementById('order-details-content');
        const printOrderBtn = document.getElementById('print-order-btn');
        const editProductModal = document.getElementById('edit-product-modal');
        const closeEditProduct = document.getElementById('close-edit-product');
        const editProductForm = document.getElementById('edit-product-form');
        const editProductImagesUpload = document.getElementById('edit-product-images-upload');
        const editProductImagesPreview = document.getElementById('edit-product-images-preview');
        const seeAllLinks = document.querySelectorAll('.see-all');
        const bannerBtn = document.querySelector('.banner-btn');

        // Initialize the app
        function initApp() {
            // Check for saved user
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateProfileDisplay();
            }

            // Check for saved address
            const savedAddress = localStorage.getItem('userAddress');
            if (savedAddress) {
                currentAddress = JSON.parse(savedAddress);
                updateAddressDisplay();
            }

            // Check if admin is logged in
            const adminSession = localStorage.getItem('adminSession');
            if (adminSession) {
                isAdminLoggedIn = true;
            }

            // Check for saved theme
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
                themeToggle.querySelector('i').classList.replace('fa-moon', 'fa-sun');
            }

            // Initialize Firebase real-time listener for admin panel
            initFirebaseOrderListener();

            // Render products
            renderProducts();
            renderAdminProducts();
            renderAdminOrders();
            renderRecentOrders();
            renderTopProducts();

            // Set up event listeners
            setupEventListeners();
        }

        // Firebase real-time order listener for admin panel
        function initFirebaseOrderListener() {
            if (database) {
                const ordersRef = database.ref('orders');
                
                // Listen for new orders in real-time
                ordersRef.on('child_added', (snapshot) => {
                    const newOrder = snapshot.val();
                    newOrder.firebaseKey = snapshot.key; // Store Firebase key for reference
                    
                    // Add to local orders array (for admin panel display only)
                    const existingOrder = orders.find(o => o.id === newOrder.id);
                    if (!existingOrder) {
                        orders.unshift(newOrder);
                        
                        // Update admin panel displays in real-time
                        renderAdminOrders();
                        renderRecentOrders();
                        renderTopProducts();
                        updateOrdersTodayCount();
                        
                        // Show notification to admin if logged in
                        if (isAdminLoggedIn) {
                            showNotification('New order received: ' + newOrder.id);
                        }
                    }
                });

                // Listen for order updates
                ordersRef.on('child_changed', (snapshot) => {
                    const updatedOrder = snapshot.val();
                    const orderIndex = orders.findIndex(o => o.id === updatedOrder.id);
                    
                    if (orderIndex !== -1) {
                        orders[orderIndex] = updatedOrder;
                        renderAdminOrders();
                        renderRecentOrders();
                        updateOrdersTodayCount();
                    }
                });

                // Listen for order deletions
                ordersRef.on('child_removed', (snapshot) => {
                    const deletedOrder = snapshot.val();
                    orders = orders.filter(o => o.id !== deletedOrder.id);
                    renderAdminOrders();
                    renderRecentOrders();
                    renderTopProducts();
                    updateOrdersTodayCount();
                });
                
                console.log('Firebase order listener initialized');
                updateFirebaseStatus('Connected & Listening ', '#2ecc71');
            } else {
                console.log('Firebase not available, using fallback method');
                updateFirebaseStatus('Using Webhook Fallback', '#f39c12');
            }
        }

        // Show a specific screen
        function showScreen(screenId) {
            // Hide all screens
            document.querySelectorAll('.app-screen').forEach(screen => {
                screen.classList.remove('active');
            });

            // Show the requested screen
            document.getElementById(screenId).classList.add('active');

            // Update bottom navigation
            navItems.forEach(item => {
                if (item.getAttribute('data-screen') === screenId) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });

            // Update cart count if needed
            if (screenId === 'cart-screen') {
                renderCart();
            }
        }

        // Show admin login screen
        function showAdminLogin() {
            showScreen('admin-login-screen');
            adminLoginError.classList.remove('show');
            document.getElementById('admin-username').value = '';
            document.getElementById('admin-password').value = '';
        }

        // Show admin panel
        function showAdminPanel() {
            showScreen('admin-screen');
        }

        // Admin login function
        function adminLogin(username, password) {
            if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
                isAdminLoggedIn = true;
                localStorage.setItem('adminSession', 'true');
                showAdminPanel();
                return true;
            } else {
                adminLoginError.classList.add('show');
                return false;
            }
        }

        // Admin logout function
        function adminLogout() {
            isAdminLoggedIn = false;
            localStorage.removeItem('adminSession');
            showScreen('home-screen');
        }

        // Authentication functions
        function toggleAuthMode(e) {
            e.preventDefault();
            isLoginMode = !isLoginMode;

            if (isLoginMode) {
                authTitle.textContent = 'Login';
                authSubtitle.textContent = 'Enter your credentials to access your account';
                authSubmitBtn.textContent = 'Login';
                authSwitchText.textContent = "Don't have an account?";
                authSwitchLink.textContent = 'Sign Up';
                authNameGroup.style.display = 'none';
            } else {
                authTitle.textContent = 'Sign Up';
                authSubtitle.textContent = 'Create a new account to get started';
                authSubmitBtn.textContent = 'Sign Up';
                authSwitchText.textContent = "Already have an account?";
                authSwitchLink.textContent = 'Login';
                authNameGroup.style.display = 'flex';
            }

            authError.classList.remove('show');
        }

        function handleAuthSubmit(e) {
            e.preventDefault();

            const username = document.getElementById('auth-username').value;
            const email = document.getElementById('auth-email').value;
            const password = document.getElementById('auth-password').value;
            const name = document.getElementById('auth-name').value;

            if (isLoginMode) {
                // Login logic
                const users = JSON.parse(localStorage.getItem('vibeCycleUsers')) || [];
                const user = users.find(u => (u.email === email || u.username === username) && u.password === password);

                if (user) {
                    currentUser = user;
                    localStorage.setItem('currentUser', JSON.stringify(user));
                    updateProfileDisplay();
                    showScreen('home-screen');
                } else {
                    authError.textContent = 'Invalid username/email or password. Please try again.';
                    authError.classList.add('show');
                }
            } else {
                // Sign up logic
                const users = JSON.parse(localStorage.getItem('vibeCycleUsers')) || [];

                // Check if user already exists
                if (users.find(u => u.email === email || u.username === username)) {
                    authError.textContent = 'User with this email or username already exists';
                    authError.classList.add('show');
                    return;
                }

                // Create new user
                const newUser = {
                    id: Date.now(),
                    username: username,
                    name: name,
                    email: email,
                    password: password
                };

                users.push(newUser);
                localStorage.setItem('vibeCycleUsers', JSON.stringify(users));

                currentUser = newUser;
                localStorage.setItem('currentUser', JSON.stringify(newUser));
                updateProfileDisplay();
                showScreen('home-screen');
            }
        }

        function continueAsGuest(e) {
            e.preventDefault();
            currentUser = null;
            localStorage.removeItem('currentUser');
            updateProfileDisplay();
            showScreen('home-screen');
        }

        function updateProfileDisplay() {
            if (currentUser) {
                // Display username if name is not available
                profileName.textContent = currentUser.name || currentUser.username;
                profileEmail.textContent = currentUser.email;
            } else {
                profileName.textContent = 'Guest User';
                profileEmail.textContent = 'guest@example.com';
            }
        }

        function populateEditProfileForm() {
            if (currentUser) {
                // Use name if available, otherwise use username
                document.getElementById('edit-profile-name').value = currentUser.name || currentUser.username;
                document.getElementById('edit-profile-email').value = currentUser.email;
                // We don't allow editing username in the profile form to maintain uniqueness
            }
        }

        function handleEditProfile(e) {
            e.preventDefault();

            const name = document.getElementById('edit-profile-name').value;
            const email = document.getElementById('edit-profile-email').value;
            const phone = document.getElementById('edit-profile-phone').value;

            if (currentUser) {
                // Update user data
                const users = JSON.parse(localStorage.getItem('vibeCycleUsers')) || [];
                const userIndex = users.findIndex(u => u.id === currentUser.id);

                if (userIndex !== -1) {
                    users[userIndex].name = name;
                    users[userIndex].email = email;
                    users[userIndex].phone = phone;
                    localStorage.setItem('vibeCycleUsers', JSON.stringify(users));
                }

                currentUser.name = name;
                currentUser.email = email;
                currentUser.phone = phone;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));

                updateProfileDisplay();
                showNotification('Profile updated successfully!');
                showScreen('profile-screen');
            }
        }

        // Render products on home and products screens
        function renderProducts() {
            // Clear existing products
            homeProducts.innerHTML = '';
            allProducts.innerHTML = '';

            // Render first 4 products on home screen
            products.slice(0, 4).forEach(product => {
                homeProducts.appendChild(createProductCard(product));
            });

            // Filter products
            let filteredProducts = [...products];

            if (activeFilters.age) {
                filteredProducts = filteredProducts.filter(product => {
                    const ageRange = product.recommendedAge; // e.g., "2  5 Years"
                    const minAge = parseInt(ageRange);
                    const maxAge = parseInt(ageRange.split('')[1] || minAge); // Handle single age or range

                    if (activeFilters.age === '0-5') {
                        return minAge <= 5;
                    } else if (activeFilters.age === '5-10') {
                        return minAge >= 5 && minAge <= 10;
                    } else if (activeFilters.age === '10+') {
                        return minAge >= 10;
                    }
                    return true;
                });
            }



            if (activeFilters.price) {
                if (activeFilters.price === 'low-to-high') {
                    filteredProducts.sort((a, b) => a.price - b.price);
                } else if (activeFilters.price === 'high-to-low') {
                    filteredProducts.sort((a, b) => b.price - a.price);
                }
            }

            if (activeFilters.gear) {
                filteredProducts = filteredProducts.filter(product => {
                    const hasGear = product.features.some(f => f.toLowerCase().includes('gear'));
                    if (activeFilters.gear === 'with-gear') {
                        return hasGear;
                    } else if (activeFilters.gear === 'no-gear') {
                        return !hasGear;
                    }
                    return true;
                });
            }

            allProducts.innerHTML = '';
            filteredProducts.forEach(product => {
                allProducts.appendChild(createProductCard(product));
            });
        }

        // Create a product card element
        function createProductCard(product) {
            const card = document.createElement('div');
            card.className = 'product-card';
            card.setAttribute('data-id', product.id);

            // Generate star rating HTML
            const stars = generateStarRating(product.rating);

            card.innerHTML = `
                            <div class="product-image">
                                <img src="${product.images[0]}" alt="${product.name}">
                                <div class="stock-status ${product.stock === 'In Stock' ? 'in-stock' : 'out-of-stock'}">${product.stock}</div>
                            </div>                <div class="product-info">
                    <div class="product-title">${product.name}</div>
                    <div class="product-rating">
                        <div class="stars">${stars}</div>
                        <div class="count">${product.rating} (${product.ratingCount})</div>
                    </div>
                    <div class="product-price">${product.price.toLocaleString()}</div>
                    <button class="add-to-cart" data-id="${product.id}">Add to Cart</button>
                </div>
            `;

            // Add event listeners
            card.addEventListener('click', (e) => {
                if (!e.target.classList.contains('add-to-cart')) {
                    showProductDetails(product.id);
                }
            });

            const addToCartBtn = card.querySelector('.add-to-cart');
            addToCartBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                addToCart(product.id);
            });

            return card;
        }

        // Generate star rating HTML
        function generateStarRating(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;

            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="fas fa-star"></i>';
            }

            if (hasHalfStar) {
                stars += '<i class="fas fa-star-half-alt"></i>';
            }

            const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
            for (let i = 0; i < emptyStars; i++) {
                stars += '<i class="far fa-star"></i>';
            }

            return stars;
        }

        // Show product details
        function showProductDetails(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            // Store current images (either main images or selected variant images)
            let currentImages = product.images;
            let selectedVariant = null;

            // Update product details
            document.getElementById('details-main-image').src = product.images[0];
            document.getElementById('details-title').textContent = product.name;
            document.getElementById('details-brand').textContent = `by ${product.brand}`;
            document.getElementById('details-stars').innerHTML = generateStarRating(product.rating);
            document.getElementById('details-rating-count').textContent = `${product.rating} (${product.ratingCount} ratings)`;
            document.getElementById('details-price').textContent = `${product.price.toLocaleString()}`;
            document.getElementById('details-description').innerHTML = `<p>${product.description}</p>`;

            // Update features list
            const featuresList = document.getElementById('details-features');
            featuresList.innerHTML = '';
            product.features.forEach(feature => {
                const li = document.createElement('li');
                li.textContent = feature;
                featuresList.appendChild(li);
            });

            // Handle color variants
            const colorOptionsSection = document.getElementById('details-color-options');
            if (product.colorVariants && product.colorVariants.length > 0) {
                colorOptionsSection.style.display = 'block';
                const colorOptionsContainer = colorOptionsSection.querySelector('.color-options-container');
                colorOptionsContainer.innerHTML = '';

                product.colorVariants.forEach((variant, index) => {
                    const colorButton = document.createElement('button');
                    colorButton.className = `color-option ${index === 0 ? 'active' : ''}`;
                    colorButton.setAttribute('data-color', variant.name);
                    colorButton.style.backgroundColor = variant.code;
                    colorButton.title = variant.name;

                    colorButton.addEventListener('click', () => {
                        // Remove active class from all color options
                        document.querySelectorAll('.color-option').forEach(btn => {
                            btn.classList.remove('active');
                        });
                        colorButton.classList.add('active');

                        // Update images to show variant images
                        selectedVariant = variant;
                        currentImages = variant.images;
                        updateProductImages(variant.images, product.name);
                    });

                    colorOptionsContainer.appendChild(colorButton);
                });
            } else {
                colorOptionsSection.style.display = 'none';
            }

            // Update image thumbnails
            function updateProductImages(images, productName) {
                const thumbnailsContainer = document.getElementById('image-thumbnails');
                thumbnailsContainer.innerHTML = '';
                document.getElementById('details-main-image').src = images[0];

                images.forEach((image, index) => {
                    const thumbnail = document.createElement('div');
                    thumbnail.className = `thumbnail ${index === 0 ? 'active' : ''}`;
                    thumbnail.innerHTML = `<img src="${image}" alt="${productName} - Image ${index + 1}">`;
                    thumbnail.addEventListener('click', () => {
                        // Update main image
                        document.getElementById('details-main-image').src = image;

                        // Update active thumbnail
                        document.querySelectorAll('.thumbnail').forEach(thumb => {
                            thumb.classList.remove('active');
                        });
                        thumbnail.classList.add('active');
                    });
                    thumbnailsContainer.appendChild(thumbnail);
                });
            }

            // Initial image setup
            updateProductImages(currentImages, product.name);

            // Update add to cart button
            detailsAddToCart.setAttribute('data-id', product.id);

            // Show product details screen
            showScreen('product-details-screen');
        }

        // Add product to cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            const existingItem = cart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }

            // Update cart count in navigation
            updateCartCount();

            // Show confirmation
            showNotification(`${product.name} added to cart!`);
        }

        // Update cart count in navigation
        function updateCartCount() {
            const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
            const cartNavItem = document.querySelector('.nav-item[data-screen="cart-screen"]');

            // Remove existing badge
            const existingBadge = cartNavItem.querySelector('.cart-badge');
            if (existingBadge) {
                existingBadge.remove();
            }

            // Add badge if there are items in cart
            if (cartCount > 0) {
                const badge = document.createElement('span');
                badge.className = 'cart-badge';
                badge.textContent = cartCount;
                badge.style.cssText = `
                    position: absolute;
                    top: 5px;
                    right: 20px;
                    background-color: var(--secondary);
                    color: white;
                    border-radius: 50%;
                    width: 18px;
                    height: 18px;
                    font-size: 10px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                `;
                cartNavItem.style.position = 'relative';
                cartNavItem.appendChild(badge);
            }
        }

        // Show notification
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 80px;
                left: 50%;
                transform: translateX(-50%);
                background-color: var(--primary);
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 10000;
                font-weight: 500;
                transition: all 0.3s ease;
            `;

            document.body.appendChild(notification);

            // Remove notification after 3 seconds
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Render cart items
        function renderCart() {
            cartItems.innerHTML = '';

            if (cart.length === 0) {
                cartItems.innerHTML = `
                    <div style="text-align: center; padding: 40px 20px; color: var(--gray);">
                        <i class="fas fa-shopping-cart" style="font-size: 48px; margin-bottom: 15px;"></i>
                        <p>Your cart is empty</p>
                        <button class="btn btn-primary" style="margin-top: 15px;" onclick="showScreen('home-screen')">Start Shopping</button>
                    </div>
                `;
                return;
            }

            cart.forEach(item => {
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <div class="cart-item-image">
                        <img src="${item.images[0]}" alt="${item.name}">
                    </div>
                    <div class="cart-item-details">
                        <div class="cart-item-title">${item.name}</div>
                        <div class="cart-item-price">${item.price.toLocaleString()}</div>
                        <div class="quantity-controls">
                            <button class="quantity-btn decrease" data-id="${item.id}">-</button>
                            <span class="quantity">${item.quantity}</span>
                            <button class="quantity-btn increase" data-id="${item.id}">+</button>
                        </div>
                    </div>
                `;
                cartItems.appendChild(cartItem);
            });

            // Update cart totals
            updateCartTotals();

            // Add event listeners for quantity controls
            document.querySelectorAll('.quantity-btn.decrease').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const id = parseInt(e.target.getAttribute('data-id'));
                    decreaseQuantity(id);
                });
            });

            document.querySelectorAll('.quantity-btn.increase').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const id = parseInt(e.target.getAttribute('data-id'));
                    increaseQuantity(id);
                });
            });
        }

        // Update cart totals
        function updateCartTotals() {
            const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            const shipping = 100;
            const total = subtotal + shipping;

            // Update in cart screen
            document.querySelectorAll('.cart-total .total-row:nth-child(1) span:last-child').forEach(el => {
                el.textContent = `${subtotal.toLocaleString()}`;
            });
            document.querySelectorAll('.cart-total .total-row:nth-child(3) span:last-child').forEach(el => {
                el.textContent = `${total.toLocaleString()}`;
            });

            // Update in checkout screen
            document.querySelectorAll('.order-summary .summary-row:nth-child(1) span:last-child').forEach(el => {
                el.textContent = `${subtotal.toLocaleString()}`;
            });
            document.querySelectorAll('.order-summary .summary-total span:last-child').forEach(el => {
                el.textContent = `${total.toLocaleString()}`;
            });
        }

        // Increase item quantity
        function increaseQuantity(productId) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += 1;
                renderCart();
                updateCartCount();
            }
        }

        // Decrease item quantity
        function decreaseQuantity(productId) {
            const itemIndex = cart.findIndex(item => item.id === productId);
            if (itemIndex !== -1) {
                if (cart[itemIndex].quantity > 1) {
                    cart[itemIndex].quantity -= 1;
                } else {
                    cart.splice(itemIndex, 1);
                }
                renderCart();
                updateCartCount();
            }
        }

        // Update address display in checkout
        function updateAddressDisplay() {
            if (currentAddress) {
                document.getElementById('checkout-address-name').textContent = `${currentAddress.firstName} ${currentAddress.lastName}`;
                document.getElementById('checkout-address-details').innerHTML = `
                    ${currentAddress.address}<br>
                    ${currentAddress.city}, ${currentAddress.state} ${currentAddress.pincode}<br>
                    Phone: ${currentAddress.phone}
                `;
            }
        }

        // Send order to email and admin panel
        function processOrder(orderData) {
            // Send order directly to Firebase (admin panel) - NO localStorage on customer device
            if (database) {
                // Send to Firebase Realtime Database
                const ordersRef = database.ref('orders');
                const newOrderRef = ordersRef.push();
                
                newOrderRef.set(orderData)
                    .then(() => {
                        console.log('Order sent to admin panel successfully');
                        showNotification('Order placed successfully! Your order has been sent directly to the admin.');
                    })
                    .catch((error) => {
                        console.error('Error sending order:', error);
                        // Fallback: Send via webhook/email
                        sendOrderViaWebhook(orderData);
                        showNotification('Order placed! Processing your request.');
                    });
            } else {
                // Fallback: Send via webhook or alternative method
                sendOrderViaWebhook(orderData);
                showNotification('Order placed successfully! Your order has been sent to the admin.');
            }

            // DO NOT save to localStorage on customer device
            // The order data goes directly to the admin panel only
        }

        // Fallback method: Send order via webhook/API
        // ===============================================
        // WEBHOOK SETUP (Alternative to Firebase):
        // 1. Create a server endpoint (e.g., using Zapier, Make.com, or your own server)
        // 2. Replace the webhookURL below with your actual webhook URL
        // 3. The webhook will receive order data via POST request
        // 4. You can configure the webhook to:
        //    - Send email notifications
        //    - Save to Google Sheets
        //    - Send to Discord/Slack
        //    - Store in your own database
        //    - Forward to any API endpoint
        // ===============================================
        function sendOrderViaWebhook(orderData) {
            // CONFIGURE YOUR WEBHOOK URL HERE:
            const webhookURL = 'https://your-webhook-url.com/orders'; // Replace with your actual webhook
            // Examples:
            // - Zapier webhook: 'https://hooks.zapier.com/hooks/catch/xxxxx/xxxxx'
            // - Make.com webhook: 'https://hook.us1.make.com/xxxxx'
            // - Your server: 'https://yourdomain.com/api/orders'
            
            fetch(webhookURL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(orderData)
            })
            .then(response => response.json())
            .then(data => {
                console.log('Order sent via webhook:', data);
            })
            .catch((error) => {
                console.error('Webhook error:', error);
                // Last resort: Log order data to console
                console.log('ORDER DATA (Manual processing required):', orderData);
                console.log('Customer:', orderData.customerName, '- Email:', orderData.customerEmail);
                console.log('Items:', orderData.items.map(i => i.name).join(', '));
                console.log('Total:', orderData.totalAmount);
            });
        }

        // Render admin products
        function renderAdminProducts() {
            productsTableBody.innerHTML = '';

            products.forEach(product => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${product.id}</td>
                    <td>${product.name}</td>
                    <td>${product.brand}</td>
                    <td>${product.category}</td>
                    <td>${product.price.toLocaleString()}</td>
                    <td>
                        <button class="action-btn btn-edit">Edit</button>
                        <button class="action-btn btn-delete">Delete</button>
                    </td>
                `;
                productsTableBody.appendChild(row);
            });
        }

        // Render admin orders
        function renderAdminOrders() {
            ordersTableBody.innerHTML = '';

            orders.forEach(order => {
                const statusClass = `status-${order.status}`;
                const statusText = order.status.charAt(0).toUpperCase() + order.status.slice(1);

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${order.id}</td>
                    <td>${order.customerName}</td>
                    <td>${order.items.map(item => item.name).join(', ')}</td>
                    <td>${order.date}</td>
                    <td>${order.totalAmount.toLocaleString()}</td>
                    <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                    <td>
                        <button class="action-btn btn-edit btn-view-order" data-order-id="${order.id}">View</button>
                        <button class="action-btn btn-delete">Delete</button>
                    </td>
                `;
                ordersTableBody.appendChild(row);
            });
        }

        // Render recent orders for dashboard
        function renderRecentOrders() {
            recentOrdersBody.innerHTML = '';

            const recentOrders = orders.slice(0, 5);

            recentOrders.forEach(order => {
                const statusClass = `status-${order.status}`;
                const statusText = order.status.charAt(0).toUpperCase() + order.status.slice(1);

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${order.id}</td>
                    <td>${order.customerName}</td>
                    <td>${order.date}</td>
                    <td>${order.totalAmount.toLocaleString()}</td>
                    <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                    <td>
                        <button class="action-btn btn-edit btn-view-order" data-order-id="${order.id}">View</button>
                    </td>
                `;
                recentOrdersBody.appendChild(row);
            });
        }

        // Render top products for revenue section
        function renderTopProducts() {
            topProductsBody.innerHTML = '';

            // Calculate product sales
            const productSales = {};
            orders.forEach(order => {
                order.items.forEach(item => {
                    if (!productSales[item.name]) {
                        productSales[item.name] = {
                            units: 0,
                            revenue: 0
                        };
                    }
                    productSales[item.name].units += item.quantity;
                    productSales[item.name].revenue += item.price * item.quantity;
                });
            });

            // Convert to array and sort by revenue
            const topProducts = Object.entries(productSales)
                .map(([name, data]) => ({ name, ...data }))
                .sort((a, b) => b.revenue - a.revenue)
                .slice(0, 5);

            topProducts.forEach(product => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${product.name}</td>
                    <td>${product.units}</td>
                    <td>${product.revenue.toLocaleString()}</td>
                `;
                topProductsBody.appendChild(row);
            });
        }

        // Order history functions
        function renderOrderHistory() {
            const container = document.getElementById('order-history-container');
            container.innerHTML = '<div style="text-align: center; padding: 20px;"><i class="fas fa-spinner fa-spin" style="font-size: 24px;"></i><p>Loading orders...</p></div>';

            if (!currentUser) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px 20px; color: var(--gray);">
                        <i class="fas fa-shopping-bag" style="font-size: 48px; margin-bottom: 15px;"></i>
                        <p>Please log in to view your order history</p>
                        <button class="btn btn-primary" style="margin-top: 15px;" onclick="showScreen('auth-screen')">Login</button>
                    </div>
                `;
                return;
            }

            // Load orders from Firebase for this user
            if (database) {
                const ordersRef = database.ref('orders');
                ordersRef.orderByChild('customerEmail').equalTo(currentUser.email).once('value')
                    .then((snapshot) => {
                        const userOrders = [];
                        snapshot.forEach((childSnapshot) => {
                            userOrders.push(childSnapshot.val());
                        });

                        displayUserOrders(userOrders, container);
                    })
                    .catch((error) => {
                        console.error('Error loading orders:', error);
                        container.innerHTML = `
                            <div style="text-align: center; padding: 40px 20px; color: var(--gray);">
                                <i class="fas fa-exclamation-triangle" style="font-size: 48px; margin-bottom: 15px;"></i>
                                <p>Unable to load orders. Please try again later.</p>
                            </div>
                        `;
                    });
            } else {
                // Fallback: filter from local orders array
                const userOrders = orders.filter(order => order.customerEmail === currentUser.email);
                displayUserOrders(userOrders, container);
            }
        }

        // Helper function to display user orders
        function displayUserOrders(userOrders, container) {
            if (userOrders.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px 20px; color: var(--gray);">
                        <i class="fas fa-shopping-bag" style="font-size: 48px; margin-bottom: 15px;"></i>
                        <p>You haven't placed any orders yet</p>
                        <button class="btn btn-primary" style="margin-top: 15px;" onclick="showScreen('home-screen')">Start Shopping</button>
                    </div>
                `;
                return;
            }

            container.innerHTML = '';
            userOrders.forEach(order => {
                const orderCard = document.createElement('div');
                orderCard.className = 'order-card';

                const statusClass = `status-${order.status}`;
                const statusText = order.status.charAt(0).toUpperCase() + order.status.slice(1);

                orderCard.innerHTML = `
                    <div class="order-header">
                        <div>
                            <div class="order-id">${order.id}</div>
                            <div class="order-date">${order.date}</div>
                        </div>
                        <span class="order-status ${statusClass}">${statusText}</span>
                    </div>
                    <div class="order-items">
                        ${order.items.map(item => `
                            <div class="order-item">
                                <div class="order-item-image">
                                    <img src="${item.images[0]}" alt="${item.name}">
                                </div>
                                <div class="order-item-details">
                                    <div class="order-item-name">${item.name}</div>
                                    <div class="order-item-price">${item.price.toLocaleString()} x ${item.quantity}</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="order-total">Total: ${order.totalAmount.toLocaleString()}</div>
                `;

                container.appendChild(orderCard);
            });
        }

        // Order details modal
        function showOrderDetails(orderId) {
            const order = orders.find(o => o.id === orderId);
            if (!order) return;

            const modalContent = document.getElementById('order-details-content');
            const statusClass = `status-${order.status}`;
            const statusText = order.status.charAt(0).toUpperCase() + order.status.slice(1);

            modalContent.innerHTML = `
                <div class="order-header">
                    <div>
                        <div class="order-id">${order.id}</div>
                        <div class="order-date">${order.date}</div>
                    </div>
                    <span class="order-status ${statusClass}">${statusText}</span>
                </div>
                
                <div class="checkout-section">
                    <h3 class="section-title">Customer Information</h3>
                    <div class="address-card">
                        <div class="address-name">${order.customerName}</div>
                        <div class="address-details">
                            ${order.customerEmail}<br>
                            ${order.customerPhone}
                        </div>
                    </div>
                </div>
                
                <div class="checkout-section">
                    <h3 class="section-title">Shipping Address</h3>
                    <div class="address-card">
                        <div class="address-name">${order.shippingAddress.firstName} ${order.shippingAddress.lastName}</div>
                        <div class="address-details">
                            ${order.shippingAddress.address}<br>
                            ${order.shippingAddress.city}, ${order.shippingAddress.state} ${order.shippingAddress.pincode}<br>
                            Phone: ${order.shippingAddress.phone}
                        </div>
                    </div>
                </div>
                
                <div class="checkout-section">
                    <h3 class="section-title">Order Items</h3>
                    <div class="order-items">
                        ${order.items.map(item => `
                            <div class="order-item">
                                <div class="order-item-image">
                                    <img src="${item.images[0]}" alt="${item.name}">
                                </div>
                                <div class="order-item-details">
                                    <div class="order-item-name">${item.name}</div>
                                    <div class="order-item-price">${item.price.toLocaleString()} x ${item.quantity}</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="checkout-section">
                    <h3 class="section-title">Order Summary</h3>
                    <div class="order-summary">
                        <div class="summary-row">
                            <span>Subtotal</span>
                            <span>${(order.totalAmount - 100).toLocaleString()}</span>
                        </div>
                        <div class="summary-row">
                            <span>Shipping</span>
                            <span>100</span>
                        </div>
                        <div class="summary-row summary-total">
                            <span>Total</span>
                            <span>${order.totalAmount.toLocaleString()}</span>
                        </div>
                    </div>
                </div>
                
                <div class="checkout-section">
                    <h3 class="section-title">Payment Information</h3>
                    <div class="delivery-info">
                        <p><i class="fas fa-money-bill-wave"></i> <strong>${order.paymentMethod}</strong></p>
                    </div>
                </div>
            `;

            document.getElementById('order-details-modal').style.display = 'flex';
        }

        // Product editing functions
        function openEditProductModal(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            currentEditingProductId = productId;

            document.getElementById('edit-product-name').value = product.name;
            document.getElementById('edit-product-brand').value = product.brand;
            document.getElementById('edit-product-price').value = product.price;
            document.getElementById('edit-product-mrp').value = product.mrp;
            document.getElementById('edit-product-category').value = product.category;
            document.getElementById('edit-product-stock').value = product.stock;
            document.getElementById('edit-product-description').value = product.description;
            document.getElementById('edit-product-features').value = product.features.join(', ');

            // Display existing images in preview
            editProductImagesUpload.value = ''; // Clear file input
            displayImagePreviews(editProductImagesPreview, product.images);

            // Display existing PDF if available
            editProductPdfUpload.value = ''; // Clear file input
            if (product.pdfDocument) {
                editProductPdfPreview.innerHTML = `
                    <div style="
                        background: rgba(255, 255, 255, 0.5);
                        backdrop-filter: blur(10px);
                        -webkit-backdrop-filter: blur(10px);
                        border: 1px solid rgba(255, 255, 255, 0.3);
                        border-radius: 12px;
                        padding: 15px;
                        margin-top: 10px;
                        display: flex;
                        align-items: center;
                        justify-content: space-between;
                        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
                    ">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <i class="fas fa-file-pdf" style="font-size: 24px; color: #e74c3c;"></i>
                            <div>
                                <div style="font-weight: 600; font-size: 14px;">Product Details PDF</div>
                                <div style="font-size: 12px; color: var(--gray);">Existing document</div>
                            </div>
                        </div>
                        <button type="button" onclick="removePdf('edit-product-pdf-preview', 'edit-product-pdf-upload')" style="
                            background: var(--secondary);
                            color: white;
                            border: none;
                            border-radius: 50%;
                            width: 28px;
                            height: 28px;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            cursor: pointer;
                            font-size: 14px;
                            transition: all 0.3s ease;
                        ">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `;
                editProductPdfPreview.setAttribute('data-pdf', product.pdfDocument);
            } else {
                editProductPdfPreview.innerHTML = '';
                editProductPdfPreview.removeAttribute('data-pdf');
            }

            // Populate color variants if they exist
            if (product.colorVariants && product.colorVariants.length > 0) {
                populateColorVariants('edit-color-variants-container', product.colorVariants, true);
            } else {
                document.getElementById('edit-color-variants-container').innerHTML = '';
            }

            document.getElementById('edit-product-modal').style.display = 'flex';
        }

        function handleEditProduct(e) {
            e.preventDefault();

            if (!currentEditingProductId) return;

            const productIndex = products.findIndex(p => p.id === currentEditingProductId);
            if (productIndex === -1) return;

            // Update product
            products[productIndex].name = document.getElementById('edit-product-name').value;
            products[productIndex].brand = document.getElementById('edit-product-brand').value;
            products[productIndex].price = parseInt(document.getElementById('edit-product-price').value);
            products[productIndex].mrp = parseInt(document.getElementById('edit-product-mrp').value);
            products[productIndex].category = document.getElementById('edit-product-category').value;
            products[productIndex].stock = document.getElementById('edit-product-stock').value;
            products[productIndex].description = document.getElementById('edit-product-description').value;
            products[productIndex].features = document.getElementById('edit-product-features').value.split(',').map(f => f.trim());

            // Get images from preview
            products[productIndex].images = Array.from(editProductImagesPreview.querySelectorAll('img')).map(img => img.src);

            // Get color variants
            const colorVariants = getColorVariants('edit-color-variants-container');
            products[productIndex].colorVariants = colorVariants.length > 0 ? colorVariants : null;

            // Get PDF data if uploaded or keep existing
            const pdfData = editProductPdfPreview.getAttribute('data-pdf');
            products[productIndex].pdfDocument = pdfData || null;

            // Update UI
            renderProducts();
            renderAdminProducts();

            // Close modal
            document.getElementById('edit-product-modal').style.display = 'none';
            showNotification('Product updated successfully!');
        }

        // Function to handle PDF upload and preview
        function handlePdfUpload(fileInput, previewContainer) {
            const file = fileInput.files[0];
            if (file && file.type === 'application/pdf') {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const pdfData = e.target.result;
                    previewContainer.innerHTML = `
                        <div style="
                            background: rgba(255, 255, 255, 0.5);
                            backdrop-filter: blur(10px);
                            -webkit-backdrop-filter: blur(10px);
                            border: 1px solid rgba(255, 255, 255, 0.3);
                            border-radius: 12px;
                            padding: 15px;
                            margin-top: 10px;
                            display: flex;
                            align-items: center;
                            justify-content: space-between;
                            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
                        ">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-file-pdf" style="font-size: 24px; color: #e74c3c;"></i>
                                <div>
                                    <div style="font-weight: 600; font-size: 14px;">${file.name}</div>
                                    <div style="font-size: 12px; color: var(--gray);">${(file.size / 1024).toFixed(2)} KB</div>
                                </div>
                            </div>
                            <button type="button" onclick="removePdf('${previewContainer.id}', '${fileInput.id}')" style="
                                background: var(--secondary);
                                color: white;
                                border: none;
                                border-radius: 50%;
                                width: 28px;
                                height: 28px;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                cursor: pointer;
                                font-size: 14px;
                                transition: all 0.3s ease;
                            ">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    `;
                    // Store PDF data in a data attribute for later use
                    previewContainer.setAttribute('data-pdf', pdfData);
                };
                reader.readAsDataURL(file);
            } else if (file) {
                showNotification('Please select a valid PDF file.');
                fileInput.value = '';
            }
        }

        // Function to remove PDF preview
        window.removePdf = function (previewId, inputId) {
            const previewContainer = document.getElementById(previewId);
            const fileInput = document.getElementById(inputId);
            if (previewContainer) {
                previewContainer.innerHTML = '';
                previewContainer.removeAttribute('data-pdf');
            }
            if (fileInput) {
                fileInput.value = '';
            }
        };

        // Function to display image previews
        function displayImagePreviews(previewContainer, images) {
            previewContainer.innerHTML = '';
            images.forEach(imageUrl => {
                const imgDiv = document.createElement('div');
                imgDiv.className = 'image-preview';
                imgDiv.innerHTML = `<img src="${imageUrl}" alt="Product Image"><span class="remove-image">&times;</span>`;
                previewContainer.appendChild(imgDiv);

                imgDiv.querySelector('.remove-image').addEventListener('click', (e) => {
                    e.stopPropagation();
                    imgDiv.remove();
                    // Note: In a real app, you'd also update the underlying product.images array here
                });
            });
        }

        // Function to read files and add to preview
        function readAndPreviewFiles(fileInput, previewContainer) {
            const files = fileInput.files;
            for (const file of files) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    const imageUrl = e.target.result;
                    const imgDiv = document.createElement('div');
                    imgDiv.className = 'image-preview';
                    imgDiv.innerHTML = `<img src="${imageUrl}" alt="Product Image"><span class="remove-image">&times;</span>`;
                    previewContainer.appendChild(imgDiv);

                    imgDiv.querySelector('.remove-image').addEventListener('click', (e) => {
                        e.stopPropagation();
                        imgDiv.remove();
                    });
                };
                reader.readAsDataURL(file);
            }
        }

        // Color Variant Functions
        let colorVariantCounter = 0;

        function addColorVariant(containerId, isEdit = false) {
            colorVariantCounter++;
            const container = document.getElementById(containerId);
            const variantId = `variant-${Date.now()}-${colorVariantCounter}`;

            const variantItem = document.createElement('div');
            variantItem.className = 'color-variant-item';
            variantItem.setAttribute('data-variant-id', variantId);
            variantItem.innerHTML = `
                <div class="color-variant-header">
                    <div class="color-variant-title">Color Variant ${colorVariantCounter}</div>
                    <button type="button" class="remove-variant-btn" onclick="removeColorVariant('${variantId}')">Remove</button>
                </div>
                <div class="color-input-group">
                    <label>Color Name:</label>
                    <input type="text" class="form-input variant-color-name" placeholder="e.g., Red, Blue, Yellow" required>
                </div>
                <div class="color-input-group">
                    <label>Color Code:</label>
                    <input type="color" class="variant-color-code" value="#ff0000">
                </div>
                <div class="form-group">
                    <label class="form-label">Images for this color</label>
                    <input type="file" class="form-input variant-images-upload" accept="image/*" multiple>
                    <div class="image-preview-container variant-images-preview"></div>
                </div>
            `;

            container.appendChild(variantItem);

            // Add event listener for image upload
            const imageInput = variantItem.querySelector('.variant-images-upload');
            const imagePreview = variantItem.querySelector('.variant-images-preview');
            imageInput.addEventListener('change', () => readAndPreviewFiles(imageInput, imagePreview));
        }

        window.removeColorVariant = function (variantId) {
            const variantItem = document.querySelector(`[data-variant-id="${variantId}"]`);
            if (variantItem) {
                variantItem.remove();
            }
        };

        function getColorVariants(containerId) {
            const container = document.getElementById(containerId);
            const variantItems = container.querySelectorAll('.color-variant-item');
            const variants = [];

            variantItems.forEach(item => {
                const colorName = item.querySelector('.variant-color-name').value;
                const colorCode = item.querySelector('.variant-color-code').value;
                const images = Array.from(item.querySelectorAll('.variant-images-preview img')).map(img => img.src);

                if (colorName && images.length > 0) {
                    variants.push({
                        name: colorName,
                        code: colorCode,
                        images: images
                    });
                }
            });

            return variants;
        }

        function populateColorVariants(containerId, variants, isEdit = false) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';

            if (variants && variants.length > 0) {
                variants.forEach((variant, index) => {
                    colorVariantCounter++;
                    const variantId = `variant-${Date.now()}-${colorVariantCounter}-${index}`;

                    const variantItem = document.createElement('div');
                    variantItem.className = 'color-variant-item';
                    variantItem.setAttribute('data-variant-id', variantId);
                    variantItem.innerHTML = `
                        <div class="color-variant-header">
                            <div class="color-variant-title">Color Variant: ${variant.name}</div>
                            <button type="button" class="remove-variant-btn" onclick="removeColorVariant('${variantId}')">Remove</button>
                        </div>
                        <div class="color-input-group">
                            <label>Color Name:</label>
                            <input type="text" class="form-input variant-color-name" value="${variant.name}" placeholder="e.g., Red, Blue, Yellow" required>
                        </div>
                        <div class="color-input-group">
                            <label>Color Code:</label>
                            <input type="color" class="variant-color-code" value="${variant.code || '#ff0000'}">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Images for this color</label>
                            <input type="file" class="form-input variant-images-upload" accept="image/*" multiple>
                            <div class="image-preview-container variant-images-preview"></div>
                        </div>
                    `;

                    container.appendChild(variantItem);

                    // Display existing images
                    const imagePreview = variantItem.querySelector('.variant-images-preview');
                    displayImagePreviews(imagePreview, variant.images);

                    // Add event listener for new image uploads
                    const imageInput = variantItem.querySelector('.variant-images-upload');
                    imageInput.addEventListener('change', () => readAndPreviewFiles(imageInput, imagePreview));
                });
            }
        }

        // Setup event listeners
        function setupEventListeners() {
            // Enhanced Filter Toggle for Mobile
            const filterToggle = document.getElementById('filter-toggle');
            const filterContent = document.getElementById('filter-content');
            const activeFilterCount = document.getElementById('active-filter-count');
            const activeFiltersContainer = document.getElementById('active-filters');

            if (filterToggle) {
                filterToggle.addEventListener('click', () => {
                    filterContent.classList.toggle('collapsed');
                    filterToggle.classList.toggle('collapsed');

                    const isCollapsed = filterContent.classList.contains('collapsed');
                    filterToggle.querySelector('span').textContent = isCollapsed ? 'Show Filters' : 'Hide Filters';
                });
            }

            // Update active filter count and chips
            function updateActiveFilters() {
                let count = 0;
                const chips = [];

                if (activeFilters.age) {
                    count++;
                    chips.push({ type: 'age', label: `Age: ${activeFilters.age}`, value: activeFilters.age });
                }
                if (activeFilters.price) {
                    count++;
                    const priceLabel = activeFilters.price === 'low-to-high' ? 'Price: Low to High' : 'Price: High to Low';
                    chips.push({ type: 'price', label: priceLabel, value: activeFilters.price });
                }
                if (activeFilters.gear) {
                    count++;
                    const gearLabel = activeFilters.gear === 'with-gear' ? 'With Gear' : 'No Gear';
                    chips.push({ type: 'gear', label: gearLabel, value: activeFilters.gear });
                }

                // Update count badge
                if (count > 0) {
                    activeFilterCount.textContent = count;
                    activeFilterCount.style.display = 'inline-flex';
                } else {
                    activeFilterCount.style.display = 'none';
                }

                // Update filter chips
                if (chips.length > 0) {
                    activeFiltersContainer.style.display = 'flex';
                    activeFiltersContainer.innerHTML = chips.map(chip => `
                        <div class="filter-chip" data-filter="${chip.type}">
                            <span>${chip.label}</span>
                            <i class="fas fa-times" onclick="removeFilter('${chip.type}')"></i>
                        </div>
                    `).join('');
                } else {
                    activeFiltersContainer.style.display = 'none';
                }
            }

            // Remove individual filter
            window.removeFilter = function (filterType) {
                activeFilters[filterType] = null;
                document.getElementById(`sort-by-${filterType}`).value = '';
                updateActiveFilters();
                renderProducts();
            };

            document.getElementById('sort-by-age').addEventListener('change', (e) => {
                activeFilters.age = e.target.value || null;
                updateActiveFilters();
                renderProducts();
            });

            document.getElementById('sort-by-price').addEventListener('change', (e) => {
                activeFilters.price = e.target.value || null;
                updateActiveFilters();
                renderProducts();
            });

            document.getElementById('sort-by-gear').addEventListener('change', (e) => {
                activeFilters.gear = e.target.value || null;
                updateActiveFilters();
                renderProducts();
            });

            document.getElementById('apply-filters-btn').addEventListener('click', () => {
                updateActiveFilters();
                renderProducts();
            });

            document.getElementById('clear-filters-btn').addEventListener('click', () => {
                activeFilters = {
                    age: null,
                    price: null,
                    gear: null
                };
                document.getElementById('sort-by-age').value = '';
                document.getElementById('sort-by-price').value = '';
                document.getElementById('sort-by-gear').value = '';
                updateActiveFilters();
                renderProducts();
            });

            productImagesUpload.addEventListener('change', () => readAndPreviewFiles(productImagesUpload, productImagesPreview));
            editProductImagesUpload.addEventListener('change', () => readAndPreviewFiles(editProductImagesUpload, editProductImagesPreview));

            // PDF upload event listeners
            productPdfUpload.addEventListener('change', () => handlePdfUpload(productPdfUpload, productPdfPreview));
            editProductPdfUpload.addEventListener('change', () => handlePdfUpload(editProductPdfUpload, editProductPdfPreview));

            // Color variant buttons
            document.getElementById('add-color-variant-btn').addEventListener('click', () => {
                addColorVariant('color-variants-container', false);
            });

            document.getElementById('edit-add-color-variant-btn').addEventListener('click', () => {
                addColorVariant('edit-color-variants-container', true);
            });

            // Navigation
            navItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    const screenId = item.getAttribute('data-screen');
                    showScreen(screenId);
                });
            });

            // Admin access
            adminAccessBtn.addEventListener('click', (e) => {
                e.preventDefault();
                if (isAdminLoggedIn) {
                    showAdminPanel();
                } else {
                    showAdminLogin();
                }
            });

            // Cart icon
            cartIcon.addEventListener('click', (e) => {
                e.preventDefault();
                showScreen('cart-screen');
            });

            // Theme toggle
            themeToggle.addEventListener('click', (e) => {
                e.preventDefault();
                document.body.classList.toggle('dark-mode');
                const isDarkMode = document.body.classList.contains('dark-mode');
                if (isDarkMode) {
                    themeToggle.querySelector('i').classList.replace('fa-moon', 'fa-sun');
                    localStorage.setItem('theme', 'dark');
                } else {
                    themeToggle.querySelector('i').classList.replace('fa-sun', 'fa-moon');
                    localStorage.setItem('theme', 'light');
                }
            });


            // Checkout
            checkoutBtn.addEventListener('click', () => {
                if (cart.length === 0) {
                    showNotification('Your cart is empty');
                    return;
                }

                if (!currentAddress) {
                    // If no address is saved, show address screen first
                    showScreen('address-screen');
                } else {
                    showScreen('checkout-screen');
                }
            });

            // Place order
            placeOrderBtn.addEventListener('click', () => {
                if (cart.length === 0) {
                    showNotification('Your cart is empty');
                    return;
                }

                // Create order data
                const orderData = {
                    id: 'VC-' + Date.now().toString().slice(-4),
                    customerName: currentUser ? currentUser.name : 'Guest User',
                    customerEmail: currentUser ? currentUser.email : 'guest@example.com',
                    customerPhone: currentUser ? (currentUser.phone || 'Not provided') : 'Not provided',
                    shippingAddress: currentAddress || {
                        firstName: 'Guest',
                        lastName: 'User',
                        address: '123 Main Street',
                        city: 'Chennai',
                        state: 'Tamil Nadu',
                        pincode: '600001',
                        phone: 'Not provided'
                    },
                    items: [...cart],
                    totalAmount: cart.reduce((total, item) => total + (item.price * item.quantity), 0) + 100,
                    paymentMethod: 'Cash on Delivery',
                    date: new Date().toLocaleDateString(),
                    status: 'pending'
                };

                // Process order (send to admin panel)
                processOrder(orderData);

                // Clear cart and return to home
                cart = [];
                updateCartCount();
                showScreen('home-screen');
            });

            // Back buttons
            backFromDetails.addEventListener('click', () => {
                showScreen('home-screen');
            });

            backFromCheckout.addEventListener('click', () => {
                showScreen('cart-screen');
            });

            backFromAddress.addEventListener('click', () => {
                if (cart.length > 0) {
                    showScreen('cart-screen');
                } else {
                    showScreen('home-screen');
                }
            });

            backFromEditProfile.addEventListener('click', () => {
                showScreen('profile-screen');
            });

            backFromMyOrders.addEventListener('click', () => {
                showScreen('profile-screen');
            });

            backFromSupport.addEventListener('click', () => {
                showScreen('profile-screen');
            });

            // Address management
            editAddressBtn.addEventListener('click', () => {
                // Pre-fill form with current address
                if (currentAddress) {
                    document.getElementById('firstName').value = currentAddress.firstName;
                    document.getElementById('lastName').value = currentAddress.lastName;
                    document.getElementById('phone').value = currentAddress.phone;
                    document.getElementById('address').value = currentAddress.address;
                    document.getElementById('city').value = currentAddress.city;
                    document.getElementById('state').value = currentAddress.state;
                    document.getElementById('pincode').value = currentAddress.pincode;
                    document.getElementById('landmark').value = currentAddress.landmark || '';
                    document.getElementById('instructions').value = currentAddress.instructions || '';
                }
                showScreen('address-screen');
            });

            changeAddressBtn.addEventListener('click', () => {
                showScreen('address-screen');
            });

            // Save address
            saveAddressBtn.addEventListener('click', () => {
                // Validate form
                const requiredFields = addressForm.querySelectorAll('[required]');
                let isValid = true;

                requiredFields.forEach(field => {
                    if (!field.value.trim()) {
                        isValid = false;
                        field.style.borderColor = 'var(--secondary)';
                    } else {
                        field.style.borderColor = '';
                    }
                });

                if (isValid) {
                    // Save address
                    currentAddress = {
                        firstName: document.getElementById('firstName').value,
                        lastName: document.getElementById('lastName').value,
                        phone: document.getElementById('phone').value,
                        address: document.getElementById('address').value,
                        city: document.getElementById('city').value,
                        state: document.getElementById('state').value,
                        pincode: document.getElementById('pincode').value,
                        landmark: document.getElementById('landmark').value,
                        instructions: document.getElementById('instructions').value
                    };

                    // Save to localStorage
                    localStorage.setItem('userAddress', JSON.stringify(currentAddress));

                    // Update display
                    updateAddressDisplay();

                    // Show checkout screen
                    showScreen('checkout-screen');

                    // Also, add the customer to the admin panel
                    const newCustomer = {
                        id: Date.now(),
                        name: `${currentAddress.firstName} ${currentAddress.lastName}`,
                        email: 'N/A', // You might want to get this from a user profile if available
                        phone: currentAddress.phone,
                        address: `${currentAddress.address}, ${currentAddress.city}, ${currentAddress.state} ${currentAddress.pincode}`
                    };
                    addCustomer(newCustomer);
                } else {
                    showNotification('Please fill in all required fields.');
                }
            });

            // Admin login form
            adminLoginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const username = document.getElementById('admin-username').value;
                const password = document.getElementById('admin-password').value;

                adminLogin(username, password);
            });

            // Back to store from admin login
            backToStoreFromAdmin.addEventListener('click', (e) => {
                e.preventDefault();
                showScreen('home-screen');
            });

            // Back to store from admin panel
            backToStore.addEventListener('click', () => {
                showScreen('home-screen');
            });

            // Admin logout
            adminLogoutBtn.addEventListener('click', () => {
                adminLogout();
            });

            // Admin navigation
            adminNavItems.forEach(item => {
                item.addEventListener('click', () => {
                    // Remove active class from all nav items
                    adminNavItems.forEach(nav => nav.classList.remove('active'));
                    // Add active class to clicked item
                    item.classList.add('active');

                    // Hide all sections
                    adminSections.forEach(section => section.classList.remove('active'));
                    // Show selected section
                    const sectionId = item.getAttribute('data-section') + '-section';
                    document.getElementById(sectionId).classList.add('active');
                });
            });

            // Add product in admin
            addProductBtn.addEventListener('click', () => {
                const name = document.getElementById('product-name').value;
                const brand = document.getElementById('product-brand').value;
                const price = parseInt(document.getElementById('product-price').value);
                const category = document.getElementById('product-category').value;
                const description = document.getElementById('product-description').value;

                // Get images from preview
                const images = Array.from(productImagesPreview.querySelectorAll('img')).map(img => img.src);

                // Get color variants
                const colorVariants = getColorVariants('color-variants-container');

                // Get PDF data if uploaded
                const pdfData = productPdfPreview.getAttribute('data-pdf') || null;

                if (name && brand && price && category && description && images.length > 0) {
                    const newProduct = {
                        id: products.length + 1,
                        name,
                        brand,
                        price,
                        mrp: price + 500,
                        category,
                        recommendedAge: "2  5 Years",
                        material: "Non-toxic Plastic",
                        dimensions: "70 x 30 x 40 cm",
                        weightCapacity: "Up to 25 kg",
                        description,
                        features: ["Feature 1", "Feature 2", "Feature 3"],
                        images,
                        colorVariants: colorVariants.length > 0 ? colorVariants : null,
                        pdfDocument: pdfData, // Store PDF data
                        rating: 4.5,
                        ratingCount: 0
                    };

                    products.push(newProduct);
                    renderProducts();
                    renderAdminProducts();

                    // Reset form
                    document.getElementById('product-name').value = '';
                    document.getElementById('product-brand').value = '';
                    document.getElementById('product-price').value = '';
                    document.getElementById('product-description').value = '';
                    productImagesUpload.value = ''; // Clear file input
                    productImagesPreview.innerHTML = ''; // Clear preview
                    productPdfUpload.value = ''; // Clear PDF input
                    productPdfPreview.innerHTML = ''; // Clear PDF preview
                    productPdfPreview.removeAttribute('data-pdf'); // Clear PDF data
                    document.getElementById('color-variants-container').innerHTML = ''; // Clear variants

                    showNotification('Product added successfully!');
                } else {
                    showNotification('Please fill in all fields and upload at least one image.');
                }
            });

            // Product details actions
            detailsAddToCart.addEventListener('click', () => {
                const productId = parseInt(detailsAddToCart.getAttribute('data-id'));
                addToCart(productId);
            });

            detailsOrderWhatsapp.addEventListener('click', () => {
                const productId = parseInt(detailsAddToCart.getAttribute('data-id'));
                const product = products.find(p => p.id === productId);
                if (product) {
                    // Add product to cart
                    addToCart(productId);
                    // Redirect to cart screen
                    showScreen('cart-screen');
                }
            });

            // Authentication
            authForm.addEventListener('submit', handleAuthSubmit);
            authSwitchLink.addEventListener('click', toggleAuthMode);
            authGuestContinue.addEventListener('click', continueAsGuest);

            // Profile menu items
            myOrdersMenu.addEventListener('click', () => {
                if (currentUser) {
                    showScreen('my-orders-screen');
                    renderOrderHistory();
                } else {
                    showScreen('auth-screen');
                }
            });

            addressesMenu.addEventListener('click', () => {
                showScreen('address-screen');
            });

            settingsMenu.addEventListener('click', () => {
                if (currentUser) {
                    showScreen('edit-profile-screen');
                    populateEditProfileForm();
                } else {
                    showScreen('auth-screen');
                }
            });

            supportMenu.addEventListener('click', () => {
                showScreen('support-screen');
            });

            // Edit profile form
            editProfileForm.addEventListener('submit', handleEditProfile);

            // Order details modal
            closeOrderDetails.addEventListener('click', () => {
                orderDetailsModal.style.display = 'none';
            });

            printOrderBtn.addEventListener('click', () => {
                const modal = document.getElementById('order-details-modal');
                modal.classList.add('printable');
                window.print();
                modal.classList.remove('printable');
            });

            // Edit product modal
            closeEditProduct.addEventListener('click', () => {
                editProductModal.style.display = 'none';
            });

            // Edit product form
            editProductForm.addEventListener('submit', handleEditProduct);

            // Navigation for "See All" and "Shop Now"
            seeAllLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    showScreen('products-screen');
                });
            });

            bannerBtn.addEventListener('click', () => {
                showScreen('products-screen');
            });

            // Update admin panel to include edit functionality
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('btn-edit') && !e.target.classList.contains('btn-view-order') && e.target.closest('tr')) {
                    const row = e.target.closest('tr');
                    const productId = parseInt(row.cells[0].textContent);
                    openEditProductModal(productId);
                }

                if (e.target.classList.contains('btn-view-order')) {
                    const orderId = e.target.getAttribute('data-order-id');
                    showOrderDetails(orderId);
                }
            });
        }

        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>

</html>